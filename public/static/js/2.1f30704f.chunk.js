(this.webpackJsonp=this.webpackJsonp||[]).push([[2],{371:function(e,n,t){"use strict";var r=t(7),a=t.n(r),l=t(0),o=t(1),i=t(2),c=t(33),s=t(41);function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var d=function(e){var n=e.children,t=e.style,r=e.numeric,o=a()(e,["children","style","numeric"]);return l.createElement(s.a,u({},o,{style:[m.container,r&&m.right,t]}),l.createElement(c.a,{numberOfLines:1},n))};d.displayName="DataTable.Cell";var m=o.a.create({container:{flex:1,flexDirection:"row",alignItems:"center"},right:{justifyContent:"flex-end"}}),p=d,f=t(14),b=t.n(f),v=t(18),g=t(13);function y(){return(y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var E=function(e){var n=e.children,t=e.style,r=e.theme,o=a()(e,["children","style","theme"]),c=b()(r.dark?v.h:v.a).alpha(.12).rgb().string();return l.createElement(i.a,y({},o,{style:[h.header,{borderBottomColor:c},t]}),n)};E.displayName="DataTable.Header";var h=o.a.create({header:{flexDirection:"row",height:48,paddingHorizontal:16,borderBottomWidth:2*o.a.hairlineWidth}}),O=Object(g.c)(E),x=t(4),z=t(53),j=t(19),k=t(56);function C(){return(C=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var w=function(e){var n=e.numeric,t=e.children,r=e.onPress,o=e.sortDirection,s=e.theme,u=e.style,d=e.numberOfLines,m=void 0===d?1:d,p=a()(e,["numeric","children","onPress","sortDirection","theme","style","numberOfLines"]),f=l.useRef(new x.a.Value("ascending"===o?0:1)).current;l.useEffect((function(){x.a.timing(f,{toValue:"ascending"===o?0:1,duration:150,useNativeDriver:!0}).start()}),[o,f]);var v=b()(s.colors.text).alpha(.6).rgb().string(),g=f.interpolate({inputRange:[0,1],outputRange:["0deg","180deg"]}),y=o?l.createElement(x.a.View,{style:[I.icon,{transform:[{rotate:g}]}]},l.createElement(k.b,{name:"arrow-up",size:16,color:s.colors.text,direction:j.a.isRTL?"rtl":"ltr"})):null;return l.createElement(z.a,C({disabled:!r,onPress:r},p),l.createElement(i.a,{style:[I.container,n&&I.right,u]},y,l.createElement(c.a,{style:[I.cell,o?I.sorted:{color:v}],numberOfLines:m},t)))};w.displayName="DataTable.Title";var I=o.a.create({container:{flex:1,flexDirection:"row",alignContent:"center",paddingVertical:12},right:{justifyContent:"flex-end"},cell:{height:24,lineHeight:24,fontSize:12,fontWeight:"500",alignItems:"center"},sorted:{marginLeft:8},icon:{height:24,justifyContent:"center"}}),S=Object(g.c)(w),P=t(121);function T(){return(T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var A=function(e){var n=e.label,t=e.page,r=e.numberOfPages,o=e.onPageChange,s=e.style,u=e.theme,d=a()(e,["label","page","numberOfPages","onPageChange","style","theme"]),m=b()(u.colors.text).alpha(.6).rgb().string();return l.createElement(i.a,T({},d,{style:[R.container,s]}),l.createElement(c.a,{style:[R.label,{color:m}],numberOfLines:1},n),l.createElement(P.a,{icon:function(e){var n=e.size,t=e.color;return l.createElement(k.b,{name:"chevron-left",color:t,size:n,direction:j.a.isRTL?"rtl":"ltr"})},color:u.colors.text,disabled:0===t,onPress:function(){return o(t-1)}}),l.createElement(P.a,{icon:function(e){var n=e.size,t=e.color;return l.createElement(k.b,{name:"chevron-right",color:t,size:n,direction:j.a.isRTL?"rtl":"ltr"})},color:u.colors.text,disabled:0===r||t===r-1,onPress:function(){return o(t+1)}}))};A.displayName="DataTable.Pagination";var R=o.a.create({container:{justifyContent:"flex-end",flexDirection:"row",alignItems:"center",paddingLeft:16},label:{fontSize:12,marginRight:44}}),$=Object(g.c)(A);function D(){return(D=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var U=o.a.create({container:{borderStyle:"solid",borderBottomWidth:o.a.hairlineWidth,minHeight:48,paddingHorizontal:16},content:{flex:1,flexDirection:"row"}}),F=Object(g.c)((function(e){var n=e.onPress,t=e.style,r=e.theme,o=e.children,c=e.pointerEvents,u=a()(e,["onPress","style","theme","children","pointerEvents"]),d=b()(r.dark?v.h:v.a).alpha(.12).rgb().string();return l.createElement(s.a,D({},u,{onPress:n,style:[U.container,{borderBottomColor:d},t]}),l.createElement(i.a,{style:U.content,pointerEvents:c},o))}));function N(){return(N=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var L=function(e){var n=e.children,t=e.style,r=a()(e,["children","style"]);return l.createElement(i.a,N({},r,{style:[M.container,t]}),n)};L.Header=O,L.Title=S,L.Row=F,L.Cell=p,L.Pagination=$;var M=o.a.create({container:{width:"100%"}});n.a=L},488:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t(9),a=t.n(r),l=t(0),o=t(165),i=t(52),c=t(494),s=t.n(c),u=(t(495),t(491));function d(e){var n=l.useState(!1),t=a()(n,2),r=t[0],c=t[1];l.useCallback((function(){c(!1)}),[c]),l.useCallback((function(n){var t=n.date;c(!1),e.onChange(t.getTime()/1e3)}),[c,e.onChange]);return l.createElement(l.Fragment,null,l.createElement(o.a,{onDismiss:function(){return c(!1)},visible:r,anchor:l.createElement(i.b.Item,{onPress:function(){return c(!0)},disabled:!!e.disabled,title:e.label,description:e.timestamp?Object(u.a)(1e3*e.timestamp,"yyyy/MM/dd"):"No date selected",left:function(){return l.createElement(i.b.Icon,{icon:"calendar"})}})},l.createElement(s.a,{selectedDays:e.timestamp?[new Date(1e3*e.timestamp)]:[],onDayClick:function(n){e.onChange(n.getTime()/1e3),c(!1)}})))}},533:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return Qe}));var r=t(9),a=t.n(r),l=t(71),o=t.n(l),i=t(40),c=t(49),s=t(124),u=t(0),d=t.n(u),m=t(1),p=t(42),f=t(311),b=t(111),v=t(52),g=t(116),y=t(371),E=t(121),h=t(129),O=t(491),x=t(72),z=t(6),j=t.n(z),k=t(11),C=t.n(k),w=t(154),I=t(142),S=t(20),P=t(2),T=t(249),A=t(221),R=t(243),$=t(488),D=R.a.actions;function U(){var e,n=Object(S.k)((function(e){return e.rigForm})),t=Object(S.j)();return u.createElement(P.a,null,u.createElement(T.a,{style:L.field,mode:"outlined",label:"Make",error:!!n.fields.make.error,value:n.fields.make.value||"",onChangeText:function(e){return t(D.setField(["make",e]))}}),u.createElement(A.a,{type:n.fields.make.error?"error":"info"},n.fields.make.error||"e.g Javelin, Mirage"),u.createElement(T.a,{style:L.field,mode:"outlined",label:"Model",error:!!n.fields.model.error,value:n.fields.model.value||"",onChangeText:function(e){return t(D.setField(["model",e]))}}),u.createElement(A.a,{type:n.fields.model.error?"error":"info"},n.fields.model.error||"e.g G4.1"),u.createElement(T.a,{style:L.field,mode:"outlined",label:"Serial",error:!!n.fields.serial.error,value:n.fields.serial.value||"",onChangeText:function(e){return t(D.setField(["serial",e]))}}),u.createElement(A.a,{type:n.fields.serial.error?"error":"info"},n.fields.serial.error||""),u.createElement(T.a,{style:L.field,mode:"outlined",label:"Current canopy size",error:!!n.fields.canopySize.error,value:(null==(e=n.fields.canopySize.value)?void 0:e.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return t(D.setField(["canopySize",Number(e)]))}}),u.createElement(A.a,{type:n.fields.canopySize.error?"error":"info"},n.fields.canopySize.error||"Size of canopy in container"),u.createElement($.a,{timestamp:n.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return t(D.setField(["repackExpiresAt",e]))},label:"Reserve repack expiry date"}),u.createElement(A.a,{type:n.fields.repackExpiresAt.error?"error":"info"},n.fields.repackExpiresAt.error||""))}var F,N,L=m.a.create({fields:{flex:1},field:{marginBottom:8}});function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var B=Object(c.gql)(F||(F=o()(["\n  mutation CreateRig(\n    $make: String,\n    $model: String,\n    $serial: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    createRig(\n      input: {\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),q=Object(c.gql)(N||(N=o()(["\n  mutation UpdateRig(\n    $id: Int!\n    $make: String,\n    $model: String,\n    $serial: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    updateRig(\n      input: {\n        id: $id,\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"])));function H(e){var n,t=Object(S.j)(),r=Object(S.k)((function(e){return e.rigForm})),l=Object(S.k)((function(e){return e.global})),o=Object(c.useMutation)(B),i=a()(o,2),s=i[0],m=i[1],p=Object(c.useMutation)(q),b=a()(p,2),v=b[0],y=b[1],E=Object(u.useCallback)((function(){var e=!1;return r.fields.make.value||(e=!0,t(S.d.setFieldError(["make","Required"]))),r.fields.model.value||(e=!0,t(S.d.setFieldError(["model","Required"]))),r.fields.serial.value||(e=!0,t(S.d.setFieldError(["serial","Required"]))),r.fields.canopySize.value||(e=!0,t(S.d.setFieldError(["canopySize","Required"]))),r.fields.repackExpiresAt.value||(e=!0,t(S.d.setFieldError(["repackExpiresAt","You must select a repack date in the future"]))),!e}),[JSON.stringify(r.fields)]),h=Object(u.useCallback)((function(){var n,a,l,o,i,c,u,d,m,p,f,b;return C.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(E()){g.next=2;break}return g.abrupt("return");case 2:return g.prev=2,p=null!=(n=r.original)&&n.id?v:s,g.next=6,C.a.awrap(p({variables:W(W({},null!=(a=r.original)&&a.id?{id:Number(null==(l=r.original)?void 0:l.id)}:{}),{},{make:r.fields.make.value,model:r.fields.model.value,serial:r.fields.serial.value,canopySize:r.fields.canopySize.value,repackExpiresAt:r.fields.repackExpiresAt.value,userId:e.userId?Number(e.userId):null,dropzoneId:e.dropzoneId?Number(e.dropzoneId):null})}));case 6:if(f=g.sent,null==(b=null!=(o=r.original)&&o.id?null==(i=f.data)?void 0:i.updateRig:null==(c=f.data)?void 0:c.createRig)||null==(u=b.fieldErrors)||u.map((function(e){var n=e.field,r=e.message;switch(n){case"make":return t(S.d.setFieldError(["make",r]));case"model":return t(S.d.setFieldError(["model",r]));case"serial":return t(S.d.setFieldError(["serial",r]));case"canopy_size":return t(S.d.setFieldError(["canopySize",r]));case"repack_expires_at":return t(S.d.setFieldError(["repackExpiresAt",r]))}})),null==b||null==(d=b.errors)||!d.length){g.next=11;break}return g.abrupt("return",t(S.i.showSnackbar({message:null==b?void 0:b.errors[0],variant:"error"})));case 11:null!=b&&null!=(m=b.fieldErrors)&&m.length||e.onSuccess(),g.next=17;break;case 14:g.prev=14,g.t0=g.catch(2),t(S.i.showSnackbar({message:g.t0.message,variant:"error"}));case 17:case"end":return g.stop()}}),null,null,[[2,14]],Promise)}),[JSON.stringify(r.fields),s,v,e.onSuccess]);return d.a.createElement(w.a,null,d.a.createElement(I.a,{visible:!!e.open,dismissable:!1},d.a.createElement(f.a,{indeterminate:!0,visible:m.loading||y.loading,color:l.theme.colors.accent}),d.a.createElement(I.a.Title,null,(null!=r&&null!=(n=r.original)&&n.id?"Edit":"New")+" rig"),d.a.createElement(I.a.Content,{pointerEvents:"box-none"},d.a.createElement(U,null)),d.a.createElement(I.a.Actions,{style:{justifyContent:"flex-end"}},d.a.createElement(g.a,{onPress:function(){t(S.d.reset()),e.onClose()}},"Cancel"),d.a.createElement(g.a,{onPress:h},"Save"))))}var V,J=t(169),_=t(242),Q=t(165),G=Object(x.a)(V||(V=o()(["\n  query RolesQuery($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n      }\n    }\n  }\n"])));function X(e){var n,t,r,l,o=Object(u.useState)(!1),i=a()(o,2),s=i[0],m=i[1],p=Object(S.k)((function(e){return e.global})),f=Object(c.useQuery)(G,{variables:{dropzoneId:Number(null==(n=p.currentDropzone)?void 0:n.id)}}),b=f.data;f.loading,f.refetch;return d.a.createElement(d.a.Fragment,null,d.a.createElement(v.b.Subheader,{style:{paddingLeft:0}},"Access level"),d.a.createElement(Q.a,{onDismiss:function(){return m(!1)},visible:!e.disabled&&s,anchor:d.a.createElement(v.b.Item,{left:function(){return d.a.createElement(v.b.Icon,{icon:"lock"})},onPress:e.disabled?void 0:function(){m(!0)},title:(null==(t=e.value)?void 0:t.name)||"Access level",description:e.required?null:"Optional"})},null==b||null==(r=b.dropzone)||null==(l=r.roles)?void 0:l.map((function(n){return d.a.createElement(Q.a.Item,{onPress:function(){m(!1),e.onSelect(n)},title:n.name||"-"})}))))}var Y=t(170),K=_.a.actions;function Z(){var e=Object(S.k)((function(e){return e})),n=e.dropzoneUserForm,t=(e.global,Object(S.j)()),r=Object(Y.a)("updatePermission");return u.createElement(u.Fragment,null,u.createElement(X,{value:n.fields.role.value,onSelect:function(e){return t(K.setField(["role",e]))},disabled:!r,required:!0}),u.createElement(A.a,{type:n.fields.role.error?"error":"info"},n.fields.role.error),u.createElement(v.b.Subheader,{style:{paddingLeft:0}},"Financial"),u.createElement($.a,{timestamp:n.fields.expiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return t(K.setField(["expiresAt",e]))},label:"Membership expires"}),u.createElement(A.a,{type:n.fields.expiresAt.error?"error":"info"},n.fields.expiresAt.error))}var ee;m.a.create({fields:{flex:1},field:{marginBottom:8}});function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var re=Object(c.gql)(ee||(ee=o()(["\n  mutation UpdateDropzoneUser(\n    $userRoleId: Int,\n    $expiresAt: Int,\n    $dropzoneUserId: Int\n  ) {\n    updateDropzoneUser(\n      input: {\n        id: $dropzoneUserId,\n        attributes: {\n          userRoleId: $userRoleId,\n          expiresAt: $expiresAt,\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      dropzoneUser {\n        id\n        credits\n        expiresAt\n        role {\n          id\n          name\n        }\n\n        user {\n          id\n          name\n        }\n      }\n    }\n  }\n"])));function ae(e){var n,t=Object(S.j)(),r=Object(S.k)((function(e){return e.dropzoneUserForm})),l=Object(S.k)((function(e){return e.global})),o=Object(c.useMutation)(re),i=a()(o,2),s=i[0],m=i[1],p=Object(u.useCallback)((function(){var e=!1;return r.fields.role.value||(e=!0,t(S.b.setFieldError(["role","User must have an access level"]))),r.fields.expiresAt.value||(e=!0,t(S.b.setFieldError(["expiresAt","Membership expiry must be set"]))),!e}),[JSON.stringify(r.fields)]),b=Object(u.useCallback)((function(){var n,a,l,o,i,c,u,d,m,f;return C.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(p()){b.next=2;break}return b.abrupt("return");case 2:return b.prev=2,b.next=5,C.a.awrap(s({variables:te(te({},null!=(n=r.original)&&n.id?{id:null==(a=r.original)?void 0:a.id}:{}),{},{userRoleId:Number(null==(l=r.fields.role.value)?void 0:l.id),expiresAt:r.fields.expiresAt.value,dropzoneUserId:Number(null==(o=r.original)?void 0:o.id)})}));case 5:if(m=b.sent,null==(f=null==(i=m.data)?void 0:i.updateDropzoneUser)||null==(c=f.fieldErrors)||c.map((function(e){var n=e.field,r=e.message;switch(n){case"user_role":return t(S.b.setFieldError(["role",r]));case"expires_at":return t(S.b.setFieldError(["expiresAt",r]))}})),null==f||null==(u=f.errors)||!u.length){b.next=10;break}return b.abrupt("return",t(S.i.showSnackbar({message:null==f?void 0:f.errors[0],variant:"error"})));case 10:null!=f&&null!=(d=f.fieldErrors)&&d.length||e.onSuccess(),b.next=16;break;case 13:b.prev=13,b.t0=b.catch(2),t(S.i.showSnackbar({message:b.t0.message,variant:"error"}));case 16:case"end":return b.stop()}}),null,null,[[2,13]],Promise)}),[JSON.stringify(r.fields),s,e.onSuccess]);return d.a.createElement(w.a,null,d.a.createElement(I.a,{visible:!!e.open},d.a.createElement(f.a,{indeterminate:!0,visible:m.loading,color:l.theme.colors.accent}),d.a.createElement(I.a.Title,null,(null!=r&&null!=(n=r.original)&&n.id?"Edit":"New")+" dropzone user"),d.a.createElement(I.a.Content,null,d.a.createElement(Z,null)),d.a.createElement(I.a.Actions,{style:{justifyContent:"flex-end"}},d.a.createElement(g.a,{onPress:function(){t(S.b.reset()),e.onClose()}},"Cancel"),d.a.createElement(g.a,{onPress:b},"Save"))))}var le=t(303),oe=t(13),ie=u.createContext({goTo:function(){return null},index:0});var ce=t(7),se=t.n(ce),ue=t(4),de=t(8),me=t(80),pe=t(89),fe=t(55),be=t(14),ve=t.n(be);function ge(e){var n,t=e.left,r=e.width;return{transform:[{scaleX:r},{translateX:(n=t/r,Math.round(100*n+Number.EPSILON)/100||0)}]}}var ye,Ee=t(33),he=t(41);function Oe(){return(Oe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}try{ye=ue.a.createAnimatedComponent(t(372).default)}catch(Xe){var xe=!1;ye=function(e){var n=e.name,t=se()(e,["name"]);return xe||(/(Cannot find module|Module not found|Cannot resolve module)/.test(Xe.message)||console.error(Xe),console.warn("Tried to use the icon '"+n+"' in a component from 'react-native-paper-tabs', but 'react-native-vector-icons/MaterialCommunityIcons' could not be loaded.","To remove this warning, try installing 'react-native-vector-icons' or use another method to specify icon: https://callstack.github.io/react-native-paper/icons.html."),xe=!0),u.createElement(ue.a.Text,Oe({},t,{selectable:!1}),"\u25a1")}}var ze=m.a.create({icon:{backgroundColor:"transparent"}}),je=function(e){var n=e.name,t=e.color,r=e.size,a=e.style,l=se()(e,["name","color","size","style"]);return u.createElement(ye,Oe({selectable:!1,name:n,color:t,size:r,style:[{lineHeight:r},ze.icon,a]},l))};function ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var we=ue.a.createAnimatedComponent(Ee.a);function Ie(e){var n=e.tab,t=e.tabIndex,r=e.active,a=e.goTo,l=e.onTabLayout,o=e.activeColor,i=e.textColor,c=e.theme,s=e.position,d=e.offset,m=e.childrenCount,p=e.uppercase,f=e.mode,b=e.iconPosition,v=e.showTextLabel,g=u.useMemo((function(){return ve()(o).alpha(.32).rgb().string()}),[o]),y=function(e){var n=e.activeColor,t=e.active,r=e.textColor;return u.useMemo((function(){return{color:t?n:r,opacity:t?1:.6}}),[t,n,r])}({active:r,position:s,offset:d,activeColor:o,textColor:i,tabIndex:t,childrenCount:m}),E=y.color,h=y.opacity;return u.createElement(P.a,{key:n.props.label,style:[Se.tabRoot,"fixed"===f&&Se.tabRootFixed],onLayout:function(e){return l(t,e)}},u.createElement(he.a,{onPress:function(){return a(t)},onPressIn:function(){},style:[Se.touchableRipple,"top"===b&&Se.touchableRippleTop],rippleColor:g,accessibilityTraits:"button",accessibilityRole:"button",accessibilityComponentType:"button",accessibilityLabel:n.props.label,accessibilityState:{selected:r},testID:"tab_"+t},u.createElement(P.a,{style:[Se.touchableRippleInner,"top"===b&&Se.touchableRippleInnerTop]},n.props.icon?u.createElement(P.a,{style:[Se.iconContainer,"top"!==b&&Se.marginRight]},u.createElement(je,{selectable:!1,accessibilityElementsHidden:!0,importantForAccessibility:"no",name:n.props.icon||"",style:{color:E,opacity:h},size:24})):null,v?u.createElement(we,{selectable:!1,style:[Se.text,"top"===b&&Se.textTop,Ce(Ce({},c.fonts.medium),{},{color:E,opacity:h})]},p?n.props.label.toUpperCase():n.props.label):null)))}var Se=m.a.create({tabRoot:{position:"relative"},tabRootFixed:{flex:1},touchableRipple:{height:48,justifyContent:"center",alignItems:"center"},touchableRippleTop:{height:72},touchableRippleInner:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingRight:16,paddingLeft:16,minWidth:90,maxWidth:360},touchableRippleInnerTop:{flexDirection:"column"},iconContainer:{width:24,height:24},text:Ce({textAlign:"center",letterSpacing:1},de.a.select({web:{transitionDuration:"150ms",transitionProperty:"all"},default:{}})),textTop:{marginTop:6},marginRight:{marginRight:8}});function Pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pe(Object(t),!0).forEach((function(n){j()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ae(e){var n=e.index,t=e.goTo,r=e.children,l=e.position,o=e.offset,i=e.theme,c=e.dark,s=e.style,d=e.iconPosition,p=e.showTextLabel,f=e.showLeadingSpace,b=e.uppercase,v=e.mode,g=i.colors,y=i.dark,E=i.mode,h=m.a.flatten(s)||{},O=h.backgroundColor,x=h.elevation,z=void 0===x?4:x,k=se()(h,["backgroundColor","elevation"]),C=O||(y&&"adaptive"===E?Object(pe.a)(z,g.surface):g.primary),w=g.primary===C,I=("boolean"===typeof c?c:"transparent"!==C&&!ve()(C).isLight())?"#fff":"#000",S=w?I:i.colors.primary,T=u.useRef(null),A=u.useRef(0),R=u.useRef(null),$=u.useRef(null),D=u.useState(null),U=a()(D,2),F=U[0],N=U[1],L=function(e){var n=e.index,t=e.layouts,r=u.useRef(null),a=u.useCallback((function(){if(r.current&&t.current){var e=t.current[n];e&&r.current.setNativeProps({style:ge({left:e.x,width:e.width})})}}),[n,r,t]);return[r,a,null]}({tabsLayout:F,layouts:$,index:n,offset:o,position:l,childrenCount:r.length}),M=a()(L,3),W=M[0],B=M[1],q=M[2],H=u.useCallback((function(e){N(e.nativeEvent.layout)}),[N]),V=u.useCallback((function(e,n){$.current=Te(Te({},$.current),{},j()({},e,n.nativeEvent.layout)),B()}),[$,B]),J=u.useCallback((function(e){if($.current&&"scrollable"===v){var t=$.current[n];if(t&&R.current&&F){var r=F.width,a=A.current;if("next"===e){var l,o=null===(l=$.current)||void 0===l?void 0:l[n+1];o&&(t=o)}else if("prev"===e){var i,c=null===(i=$.current)||void 0===i?void 0:i[n-1];c&&(t=c)}var s=t.x-a,u=s,d=-r+s+t.width;d>-50?R.current.scrollTo({x:a+d+50,y:0,animated:!0}):u<50&&R.current.scrollTo({x:a+u-50,y:0,animated:!0})}}}),[v,$,n,R,A,F]);return u.useEffect((function(){J()}),[J]),u.useEffect((function(){B()}),[B]),u.createElement(P.a,{style:Re.relative},u.createElement(fe.a,{style:[{backgroundColor:C,elevation:z},k,Re.tabs,"top"===d&&Re.tabsTopIcon],onLayout:H},u.createElement(me.a,{ref:R,contentContainerStyle:"fixed"===v?Re.fixedContentContainerStyle:void 0,onContentSizeChange:function(e){T.current=e},onScroll:function(e){A.current=e.nativeEvent.contentOffset.x},scrollEventThrottle:25,horizontal:!0,showsHorizontalScrollIndicator:!1,alwaysBounceHorizontal:"scrollable"===v,scrollEnabled:"scrollable"===v},"scrollable"===v&&f?u.createElement(P.a,{style:Re.scrollablePadding}):null,u.Children.map(r,(function(e,a){return u.createElement(Ie,{theme:i,tabIndex:a,tab:e,active:n===a,onTabLayout:V,goTo:t,activeColor:S,textColor:I,position:l,offset:o,childrenCount:r.length,uppercase:b,iconPosition:d,showTextLabel:p,mode:v})})),u.createElement(ue.a.View,{ref:W,pointerEvents:"none",style:[Re.indicator,{backgroundColor:S},q]})),u.createElement(ue.a.View,{style:[Re.removeTopShadow,{height:z,backgroundColor:C,top:-z}]})))}var Re=m.a.create({relative:{position:"relative"},removeTopShadow:{position:"absolute",left:0,right:0,zIndex:2},scrollablePadding:{width:52},tabs:{height:48},tabsTopIcon:{height:72},fixedContentContainerStyle:{flex:1},indicator:Te({position:"absolute",height:2,width:1,left:0,bottom:0},de.a.select({web:{backgroundColor:"transparent",transitionDuration:"150ms",transitionProperty:"all",transformOrigin:"left",willChange:"transform"},default:{}}))});var $e=m.a.create({root:{flex:1}}),De=function(e){var n=e.theme,t=e.dark,r=e.style,l=e.defaultIndex,o=e.onChangeIndex,i=e.iconPosition,c=e.showTextLabel,s=e.showLeadingSpace,d=e.uppercase,m=e.mode,p=u.useState(l||0),f=a()(p,2),b=f[0],v=f[1],g=u.useCallback((function(e){v(e),o(e)}),[v,o]),y=e.children,E=y[b];if(!E||!E)return null;var h={index:b,goTo:g,children:y,theme:n,dark:t,style:r,offset:void 0,position:void 0,iconPosition:i,showTextLabel:c,showLeadingSpace:s,uppercase:d,mode:m};return u.createElement(P.a,{style:$e.root},u.createElement(Ae,h),u.createElement(ie.Provider,{value:{goTo:g,index:b}},E))},Ue=function(){var e={};return{set:function(n,t){e[n]=t},get:function(n){return e[n]}}}();function Fe(e,n){return n?Ue.get(n)||e||0:e||0}var Ne=Object(oe.c)((function(e){var n=e.onChangeIndex,t=e.children,r=e.persistKey,a=e.theme,l=e.dark,o=e.style,i=e.defaultIndex,c=e.mode,s=void 0===c?"fixed":c,d=e.uppercase,m=void 0===d||d,p=e.iconPosition,f=void 0===p?"leading":p,b=e.showTextLabel,v=void 0===b||b,g=e.showLeadingSpace,y=void 0===g||g,E=u.useCallback((function(e){r&&"web"===de.a.OS&&Ue.set(r,e),null===n||void 0===n||n(e)}),[r,n]);return u.createElement(De,{style:o,dark:l,theme:a,defaultIndex:Fe(i,r),onChangeIndex:E,uppercase:m,iconPosition:f,showTextLabel:v,showLeadingSpace:y,mode:s},t)}));function Le(e){var n=e.children;return u.Children.only(n)}var Me=t(244).a.actions;function We(){var e,n,t,r,a,l=Object(S.k)((function(e){return e})),o=l.creditsForm,i=(l.global,Object(S.j)()),c=(Object(Y.a)("updatePermission"),(null==(e=o.original)?void 0:e.credits)||0),s=o.fields.amount.value||0,d="deposit"===o.fields.status.value?s+c:s-c;return u.createElement(u.Fragment,null,u.createElement(Ne,{defaultIndex:0,onChangeIndex:function(e){i(Me.setField(["status",1===e?"withdrawal":"deposit"]))},mode:"fixed"},u.createElement(Le,{label:"Deposit",icon:"arrow-up"},u.createElement(P.a,null)),u.createElement(Le,{label:"Withdraw",icon:"arrow-down"},u.createElement(P.a,null))),u.createElement(I.a.Content,{style:{paddingTop:16}},u.createElement(T.a,{style:He.field,mode:"outlined",label:"Message",error:!!o.fields.message.error,value:(null==(n=o.fields.message.value)?void 0:n.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return i(Me.setField(["message",e]))}}),u.createElement(A.a,{type:o.fields.message.error?"error":"info"},o.fields.message.error||""),"deposit"===o.fields.status.value?u.createElement(P.a,null,u.createElement(T.a,{style:He.field,mode:"outlined",label:"Add amount",error:!!o.fields.amount.error,value:(null==(t=o.fields.amount.value)?void 0:t.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return i(Me.setField(["amount",Number(e)]))}}),u.createElement(A.a,{type:o.fields.amount.error?"error":"info"},o.fields.amount.error||""),u.createElement(le.a,null),u.createElement(y.a,null,u.createElement(y.a.Row,null,u.createElement(y.a.Title,null,"Current balance"),u.createElement(y.a.Cell,{numeric:!0},"$"+((null==(r=o.original)?void 0:r.credits)||0))),u.createElement(y.a.Row,null,u.createElement(y.a.Title,null,"Deposit"),u.createElement(y.a.Cell,{numeric:!0},"+$"+(o.fields.amount.value||0))),u.createElement(y.a.Row,null,u.createElement(y.a.Title,null,u.createElement(p.a,{style:{fontWeight:"bold"}},"New total")),u.createElement(y.a.Cell,{numeric:!0},(d<0?"-":"")+"$"+(d<0?-1*d:d))))):u.createElement(P.a,null,u.createElement(T.a,{style:He.field,mode:"outlined",label:"Withdraw amount",error:!!o.fields.amount.error,value:(null==(a=o.fields.amount.value)?void 0:a.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return i(Me.setField(["amount",Number(e)]))}}),u.createElement(A.a,{type:o.fields.amount.error?"error":"info"},o.fields.amount.error||""),u.createElement(le.a,null),u.createElement(y.a,null,u.createElement(y.a.Row,null,u.createElement(y.a.Title,null,"Current balance"),u.createElement(y.a.Cell,{numeric:!0},"$"+(o.original.credits||0))),u.createElement(y.a.Row,null,u.createElement(y.a.Title,null,"Withdraw"),u.createElement(y.a.Cell,{numeric:!0},"-$"+(o.fields.amount.value||0))),u.createElement(y.a.Row,null,u.createElement(y.a.Title,null,u.createElement(p.a,{style:{fontWeight:"bold"}},"New total")),u.createElement(y.a.Cell,{numeric:!0},(d<0?"-":"")+"$"+(d<0?-1*d:d)))))))}var Be,qe,He=m.a.create({fields:{flex:1},field:{marginBottom:8}}),Ve=Object(c.gql)(Be||(Be=o()(["\n  mutation CreatrTransaction(\n    $message: String,\n    $status: String,\n    $amount: Float,\n    $dropzoneUserId: Int,\n  ) {\n    createTransaction(\n      input: {\n        attributes: {\n          amount: $amount,\n          dropzoneUserId: $dropzoneUserId,\n          message: $message,\n          status: $status,\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      transaction {\n        id\n        amount\n        message\n\n        dropzoneUser {\n          id\n          credits\n        }\n      }\n    }\n  }\n"])));function Je(e){var n=Object(S.j)(),t=Object(S.k)((function(e){return e.creditsForm})),r=Object(S.k)((function(e){return e.global})),l=Object(c.useMutation)(Ve),o=a()(l,2),i=o[0],s=o[1],m=Object(u.useCallback)((function(){var e=!1;return t.fields.amount.value||(e=!0,n(S.a.setFieldError(["amount","You must specify an amount"]))),!e}),[JSON.stringify(t.fields)]),p=Object(u.useCallback)((function(){var r,a,l,o,c,s,u,d,p;return C.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(m()){f.next=2;break}return f.abrupt("return");case 2:return f.prev=2,f.next=5,C.a.awrap(i({variables:{amount:t.fields.amount.value,message:t.fields.message.value,status:t.fields.status.value,dropzoneUserId:Number(null==(r=t.original)?void 0:r.id)}}));case 5:if(d=f.sent,null==(p=null!=(a=t.original)&&a.id?null==(l=d.data)?void 0:l.updateRig:null==(o=d.data)?void 0:o.createRig)||null==(c=p.fieldErrors)||c.map((function(e){var t=e.field,r=e.message;switch(t){case"amount":return n(S.a.setFieldError(["amount",r]));case"message":return n(S.a.setFieldError(["message",r]));case"status":return n(S.a.setFieldError(["status",r]))}})),null==p||null==(s=p.errors)||!s.length){f.next=10;break}return f.abrupt("return",n(S.i.showSnackbar({message:null==p?void 0:p.errors[0],variant:"error"})));case 10:null!=p&&null!=(u=p.fieldErrors)&&u.length||(n(S.a.reset()),e.onSuccess()),f.next=16;break;case 13:f.prev=13,f.t0=f.catch(2),n(S.i.showSnackbar({message:f.t0.message,variant:"error"}));case 16:case"end":return f.stop()}}),null,null,[[2,13]],Promise)}),[JSON.stringify(t.fields),i,e.onSuccess]);return d.a.createElement(w.a,null,d.a.createElement(I.a,{visible:!!e.open},d.a.createElement(f.a,{indeterminate:!0,visible:s.loading,color:r.theme.colors.accent}),d.a.createElement(We,null),d.a.createElement(I.a.Actions,{style:{justifyContent:"flex-end"}},d.a.createElement(g.a,{onPress:function(){n(S.a.reset()),e.onClose()}},"Cancel"),d.a.createElement(g.a,{onPress:p},"Save"))))}var _e=Object(x.a)(qe||(qe=o()(["\n  query QueryDropzoneUser($dropzoneId: Int!, $dropzoneUserId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUser(id: $dropzoneUserId) {\n        id\n        credits\n        expiresAt\n        role {\n          id\n          name\n        }\n        rigInspections {\n          id\n          isOk\n          rig {\n            id\n          }\n        }\n\n\n        transactions {\n          edges {\n            node {\n              id\n              status\n              message\n              amount\n              createdAt\n            }\n          }\n        }\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));function Qe(){var e,n,t,r,l,o,d,m,x,z,j,k,C,w,I,P,T,A,R,$,D,U,F,N,L,M,W,B,q,V,_,Q,G,X,Y,K,Z,ee,ne,te,re,le,oe,ie=Object(S.k)((function(e){return e.global})),ce=Object(S.j)(),se=Object(i.useNavigation)(),ue=u.useState(!1),de=a()(ue,2),me=de[0],pe=de[1],fe=u.useState(!1),be=a()(fe,2),ve=be[0],ge=be[1],ye=u.useState(!1),Ee=a()(ye,2),he=Ee[0],Oe=Ee[1],xe=Object(i.useRoute)(),ze=(null==(e=ie.currentDropzone)||null==(n=e.currentUser)?void 0:n.id)===xe.params.userId,je=Object(c.useQuery)(_e,{variables:{dropzoneId:Number(null==(t=ie.currentDropzone)?void 0:t.id),dropzoneUserId:Number(xe.params.userId)}}),ke=je.data,Ce=je.loading;return u.createElement(u.Fragment,null,u.createElement(f.a,{color:ie.theme.colors.accent,indeterminate:!0,visible:Ce}),u.createElement(J.a,{contentContainerStyle:Ge.content},u.createElement(b.a,{elevation:3,style:Ge.card},u.createElement(b.a.Title,{title:"Basic information"}),u.createElement(b.a.Content,null,u.createElement(v.b.Item,{title:"Name",left:function(){return u.createElement(v.b.Icon,{icon:"account-outline"})},description:(null==ke||null==(r=ke.dropzone)||null==(l=r.dropzoneUser)||null==(o=l.user)?void 0:o.name)||"-"}),u.createElement(v.b.Item,{title:"Email",left:function(){return u.createElement(v.b.Icon,{icon:"at"})},description:(null==ke||null==(d=ke.dropzone)||null==(m=d.dropzoneUser)||null==(x=m.user)?void 0:x.email)||"-"}),u.createElement(v.b.Item,{title:"Phone",left:function(){return u.createElement(v.b.Icon,{icon:"phone"})},description:(null==ke||null==(z=ke.dropzone)||null==(j=z.dropzoneUser)||null==(k=j.user)?void 0:k.phone)||"-"}),u.createElement(v.b.Item,{title:"License",left:function(){return u.createElement(v.b.Icon,{icon:"ticket-account"})},description:(null==ke||null==(C=ke.dropzone)||null==(w=C.dropzoneUser)||null==(I=w.user)||null==(P=I.license)?void 0:P.name)||"-"}),u.createElement(v.b.Item,{title:"Exit weight",left:function(){return u.createElement(v.b.Icon,{icon:"scale"})},description:(null==ke||null==(T=ke.dropzone)||null==(A=T.dropzoneUser)||null==(R=A.user)?void 0:R.exitWeight)||"-"})),ze&&u.createElement(b.a.Actions,{style:{justifyContent:"flex-end"}},u.createElement(g.a,{icon:"pencil",onPress:function(){var e,n;return se.navigate("UpdateUserScreen",{user:null==(e=ie.currentDropzone)||null==(n=e.currentUser)?void 0:n.user})}},u.createElement(p.a,null,"Edit")))),u.createElement(b.a,{elevation:3,style:Ge.card},u.createElement(b.a.Title,{title:"Rigs"}),u.createElement(b.a.Content,null,u.createElement(y.a,null,u.createElement(y.a.Header,null,u.createElement(y.a.Title,null,"Container"),u.createElement(y.a.Title,{numeric:!0},"Repack due"),u.createElement(y.a.Title,{numeric:!0},"Canopy size"),u.createElement(y.a.Title,{numeric:!0},"Inspected")),null==ke||null==($=ke.dropzone)||null==(D=$.dropzoneUser)||null==(U=D.user)||null==(F=U.rigs)?void 0:F.map((function(e){var n,t,r,a,l,o;return u.createElement(y.a.Row,{key:"rig-"+e.id,onPress:function(){ce(S.d.setOriginal(e)),ge(!0)},onLongPress:function(){return se.navigate("RigInspectionScreen",{dropzoneUserId:Number(xe.params.userId),rig:e})},pointerEvents:"none"},u.createElement(y.a.Cell,null,[null==e?void 0:e.make,null==e?void 0:e.model,"#"+(null==e?void 0:e.serial)].join(" ")),u.createElement(y.a.Cell,{numeric:!0},null!=e&&e.repackExpiresAt?Object(O.a)(1e3*e.repackExpiresAt,"yyyy/MM/dd"):"-"),u.createElement(y.a.Cell,{numeric:!0},""+(null==e?void 0:e.canopySize)),u.createElement(y.a.Cell,{numeric:!0},u.createElement(E.a,{icon:null!=ke&&null!=(n=ke.dropzone)&&null!=(t=n.dropzoneUser)&&null!=(r=t.rigInspections)&&r.some((function(n){var t;return(null==(t=n.rig)?void 0:t.id)===e.id&&n.isOk}))?"eye-check":"eye-minus",color:null!=ke&&null!=(a=ke.dropzone)&&null!=(l=a.dropzoneUser)&&null!=(o=l.rigInspections)&&o.some((function(n){var t;return(null==(t=n.rig)?void 0:t.id)===e.id&&n.isOk}))?s.b:s.c,onPress:function(){return se.navigate("RigInspectionScreen",{dropzoneUserId:Number(xe.params.userId),rig:e})}})))})))),ze&&u.createElement(b.a.Actions,{style:{justifyContent:"flex-end"}},u.createElement(g.a,{onPress:function(){return ge(!0)},icon:"plus"},u.createElement(p.a,null,"Add rig")))),u.createElement(b.a,{elevation:3,style:Ge.card},u.createElement(b.a.Title,{title:null==(N=ie.currentDropzone)?void 0:N.name}),u.createElement(b.a.Content,null,u.createElement(v.b.Item,{title:"Role",description:null==ke||null==(L=ke.dropzone)||null==(M=L.dropzoneUser)||null==(W=M.role)?void 0:W.name,left:function(){return u.createElement(v.b.Icon,{icon:"lock"})}}),u.createElement(v.b.Item,{title:"Membership",description:null!=ke&&null!=(B=ke.dropzone)&&null!=(q=B.dropzoneUser)&&q.expiresAt?Object(O.a)(1e3*((null==ke||null==(V=ke.dropzone)||null==(_=V.dropzoneUser)?void 0:_.expiresAt)||0),"yyyy/MM/dd"):u.createElement(p.a,null,"Not a member"),left:function(){var e,n,t,r;return u.createElement(v.b.Icon,{icon:"card-account-details",color:null!=ke&&null!=(e=ke.dropzone)&&null!=(n=e.dropzoneUser)&&n.expiresAt&&1e3*(null==ke||null==(t=ke.dropzone)||null==(r=t.dropzoneUser)?void 0:r.expiresAt)>(new Date).getTime()?void 0:"#B00020"})}})),u.createElement(b.a.Actions,{style:{justifyContent:"flex-end"}},u.createElement(g.a,{icon:"pencil",onPress:function(){var e;ce(S.b.setOriginal(null==ke||null==(e=ke.dropzone)?void 0:e.dropzoneUser)),Oe(!0)}},u.createElement(p.a,null,"Edit")))),u.createElement(b.a,{elevation:3,style:Ge.card},u.createElement(b.a.Actions,{style:{justifyContent:"space-between"}},u.createElement(h.a,null,"Balance: $"+(null==ke||null==(Q=ke.dropzone)||null==(G=Q.dropzoneUser)?void 0:G.credits)),u.createElement(g.a,{icon:"pencil",onPress:function(){var e;null!=ke&&null!=(e=ke.dropzone)&&e.dropzoneUser&&(ce(S.a.setOriginal(ke.dropzone.dropzoneUser)),pe(!0))}},u.createElement(p.a,null,"New transaction"))),u.createElement(b.a.Content,null,u.createElement(y.a,null,u.createElement(y.a.Header,null,u.createElement(y.a.Title,null,"Time"),u.createElement(y.a.Title,null,"Type"),u.createElement(y.a.Title,null,"Message"),u.createElement(y.a.Title,{numeric:!0},"Amount")),null==ke||null==(X=ke.dropzone)||null==(Y=X.dropzoneUser)||null==(K=Y.transactions)||null==(Z=K.edges)?void 0:Z.map((function(e){var n,t,r,a,l,o;return u.createElement(y.a.Row,{key:"transaction-"+(null==e||null==(n=e.node)?void 0:n.id)},u.createElement(y.a.Cell,null,u.createElement(p.a,{style:{fontSize:12,fontStyle:"italic",color:"#999999"}},null!=e&&null!=(t=e.node)&&t.createdAt?Object(O.a)(1e3*(null==e||null==(r=e.node)?void 0:r.createdAt),"yyyy/MM/dd hh:mm"):null)),u.createElement(y.a.Cell,null,u.createElement(p.a,{style:{fontSize:12,fontStyle:"italic",color:"#999999"}},null==e||null==(a=e.node)?void 0:a.status)),u.createElement(y.a.Cell,null,null==e||null==(l=e.node)?void 0:l.message),u.createElement(y.a.Cell,{numeric:!0},null==e||null==(o=e.node)?void 0:o.amount))}))))),(null==ke||null==(ee=ke.dropzone)||null==(ne=ee.dropzoneUser)?void 0:ne.id)===(null==(te=ie.currentUser)?void 0:te.id)&&u.createElement(g.a,{color:"#B00020",onPress:function(){return ce(S.c.logout())}},u.createElement(p.a,null,"Log out"))),u.createElement(H,{onClose:function(){return ge(!1)},onSuccess:function(){return ge(!1)},userId:Number(null==ke||null==(re=ke.dropzone)||null==(le=re.dropzoneUser)||null==(oe=le.user)?void 0:oe.id),open:ve}),u.createElement(ae,{onClose:function(){return Oe(!1)},onSuccess:function(){return Oe(!1)},open:he}),u.createElement(Je,{onClose:function(){return pe(!1)},onSuccess:function(){return pe(!1)},open:me}))}var Ge=m.a.create({container:{flex:1},content:{alignItems:"center",flexGrow:1,paddingBottom:56},card:{margin:8,width:"100%"},fields:{width:"80%",display:"flex"},spacer:{width:"100%",height:32},title:{fontSize:20,fontWeight:"bold"},fab:{position:"absolute",margin:16,right:0,bottom:0},separator:{marginVertical:30,height:1,width:"80%"}})}}]);
//# sourceMappingURL=2.1f30704f.chunk.js.map