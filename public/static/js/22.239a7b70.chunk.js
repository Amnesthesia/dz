(this.webpackJsonp=this.webpackJsonp||[]).push([[22],{487:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var l=t(0),r=t.n(l),s=t(1),i=t(129),a=t(301),o=t(36);function c(e){var n=e.title,t=e.subtitle;return r.a.createElement(o.b,{style:u.empty},r.a.createElement(i.a,null,n),r.a.createElement(a.a,{style:{textAlign:"center"}},t))}var u=s.a.create({container:{flex:1,padding:8,display:"flex"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}})},530:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return z}));var l,r=t(22),s=t.n(r),i=t(71),a=t.n(i),o=t(49),c=t(40),u=t(72),d=t(0),f=t(1),m=t(311),b=t(52),p=t(222),v=t(317),h=t(487),g=t(36),E=t(20),S=Object(u.a)(l||(l=a()(["\n  query QueryDropzoneUsersSearch(\n    $dropzoneId: Int!\n    $search: String\n  ) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(search: $search) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function z(){var e,n,t,l,r,i,a,u,f=Object(E.k)((function(e){return e})),z=f.global,y=f.usersScreen,j=(f.slotsMultipleForm,Object(E.j)()),I=Object(o.useQuery)(S,{variables:{dropzoneId:Number(null==(e=z.currentDropzone)?void 0:e.id),search:y.searchText}}),x=I.data,O=I.loading,k=Object(c.useNavigation)(),w=Object(c.useRoute)(),N=Object(c.useIsFocused)();return d.useEffect((function(){y.isSearchVisible&&j(E.m.setSearchVisible(!1)),!N&&y.isSelectEnabled&&(j(E.m.setSelectEnabled(!1)),j(E.m.setSelected([])))}),[N]),d.useEffect((function(){var e;j(E.m.setSelectEnabled(!(null==w||null==(e=w.params)||!e.select)))}),[null==w||null==(n=w.params)?void 0:n.select]),d.createElement(g.b,{style:U.container},d.createElement(m.a,{indeterminate:!0,color:z.theme.colors.accent,visible:O}),!(null!=x&&null!=(t=x.dropzone)&&null!=(l=t.dropzoneUsers)&&null!=(r=l.edges)&&r.length)&&d.createElement(h.a,{title:"No users",subtitle:""}),null==x||null==(i=x.dropzone)||null==(a=i.dropzoneUsers)||null==(u=a.edges)?void 0:u.map((function(e){var n,t,l;return d.createElement(b.b.Item,{title:null==e||null==(n=e.node)?void 0:n.user.name,description:null==e||null==(t=e.node)||null==(l=t.role)?void 0:l.name,left:function(){return d.createElement(b.b.Icon,{icon:"account"})},right:function(){var n,t,l;return y.isSelectEnabled?d.createElement(p.a.Android,{status:null!=(n=y.selectedUsers)&&n.map((function(e){return e.id})).includes(""+(null==e||null==(t=e.node)||null==(l=t.user)?void 0:l.id))?"checked":"unchecked"}):null},onPress:y.isSelectEnabled?function(){var n,t;return j(E.m.setSelected(null!=(n=y.selectedUsers)&&n.find((function(n){var t;return n.id===""+(null==e||null==(t=e.node)?void 0:t.id)}))?null==(t=y.selectedUsers)?void 0:t.filter((function(n){var t;return n.id!==""+(null==e||null==(t=e.node)?void 0:t.id)})):[].concat(s()(y.selectedUsers),[e.node])))}:function(){var n;return k.navigate("UserProfileScreen",{userId:null==e||null==(n=e.node)?void 0:n.id})}})})),y.isSelectEnabled&&d.createElement(v.a,{style:U.fab,small:!0,icon:"check",onPress:function(){j(E.h.setDropzoneUsers(y.selectedUsers)),k.navigate("Manifest",{screen:"ManifestGroupScreen",params:{users:y.selectedUsers}})},label:"Next"}))}var U=f.a.create({container:{flex:1},fab:{position:"absolute",margin:16,right:0,bottom:0},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}})}}]);
//# sourceMappingURL=22.239a7b70.chunk.js.map