(this.webpackJsonp=this.webpackJsonp||[]).push([[15],{194:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={};n.r(r),n.d(r,"Accordion",(function(){return E})),n.d(r,"AccordionGroup",(function(){return y})),n.d(r,"Icon",(function(){return P})),n.d(r,"Item",(function(){return V})),n.d(r,"Section",(function(){return B})),n.d(r,"Subheader",(function(){return T}));var a=n(6),i=n.n(a),o=n(33),l=n.n(o),c=n(0),s=n(5),u=n(4),d=n(31),f=n(193),p=n(87),m=n(119),b=n(38),g=c.createContext(null),v=function(e){var t=e.expandedId,n=e.onAccordionPress,r=e.children,a=c.useState(void 0),o=i()(a,2),l=o[0],s=o[1];return c.createElement(g.Provider,{value:{expandedId:t||l,onAccordionPress:n||function(e){s((function(t){return t===e?void 0:e}))}}},r)};v.displayName="List.AccordionGroup";var y=v,h=function(e){var t=e.left,n=e.right,r=e.title,a=e.description,o=e.children,u=e.theme,b=e.titleStyle,v=e.descriptionStyle,y=e.titleNumberOfLines,h=void 0===y?1:y,E=e.descriptionNumberOfLines,j=void 0===E?2:E,S=e.style,w=e.id,P=e.testID,x=e.onPress,I=e.onLongPress,k=e.expanded,z=c.useState(k||!1),L=i()(z,2),C=L[0],N=L[1],D=l()(u.colors.text).alpha(.87).rgb().string(),F=l()(u.colors.text).alpha(.54).rgb().string(),V=void 0!==k?k:C,R=c.useContext(g);if(null!==R&&!w)throw new Error("List.Accordion is used inside a List.AccordionGroup without specifying an id prop.");var A=R?R.expandedId===w:V,$=R&&void 0!==w?function(){return R.onAccordionPress(w)}:function(){null===x||void 0===x||x(),void 0===k&&N((function(e){return!e}))};return c.createElement(s.a,null,c.createElement(f.a,{style:[O.container,S],onPress:$,onLongPress:I,accessibilityTraits:"button",accessibilityComponentType:"button",accessibilityRole:"button",testID:P,borderless:!0},c.createElement(s.a,{style:O.row,pointerEvents:"none"},t?t({color:A?u.colors.primary:F}):null,c.createElement(s.a,{style:[O.item,O.content]},c.createElement(m.a,{selectable:!1,numberOfLines:h,style:[O.title,{color:A?u.colors.primary:D},b]},r),a&&c.createElement(m.a,{selectable:!1,numberOfLines:j,style:[O.description,{color:F},v]},a)),c.createElement(s.a,{style:[O.item,a?O.multiline:void 0]},n?n({isExpanded:A}):c.createElement(p.b,{name:A?"chevron-up":"chevron-down",color:D,size:24,direction:d.a.isRTL?"rtl":"ltr"})))),A?c.Children.map(o,(function(e){return t&&c.isValidElement(e)&&!e.props.left&&!e.props.right?c.cloneElement(e,{style:[O.child,e.props.style]}):e})):null)};h.displayName="List.Accordion";var O=u.a.create({container:{padding:8},row:{flexDirection:"row",alignItems:"center"},multiline:{height:40,alignItems:"center",justifyContent:"center"},title:{fontSize:16},description:{fontSize:14},item:{margin:8},child:{paddingLeft:64},content:{flex:1,justifyContent:"center"}}),E=Object(b.c)(h),j=n(195),S=function(e){var t=e.icon,n=e.color,r=e.style;return c.createElement(s.a,{style:[w.item,r],pointerEvents:"box-none"},c.createElement(j.a,{source:t,size:24,color:n}))},w=u.a.create({item:{margin:8,height:40,width:40,alignItems:"center",justifyContent:"center"}});S.displayName="List.Icon";var P=S,x=n(7),I=n.n(x),k=n(13),z=n.n(k);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=function(e){var t=e.left,n=e.right,r=e.title,a=e.description,i=e.onPress,o=e.theme,u=e.style,d=e.titleStyle,p=e.titleNumberOfLines,b=void 0===p?1:p,g=e.descriptionNumberOfLines,v=void 0===g?2:g,y=e.titleEllipsizeMode,h=e.descriptionEllipsizeMode,O=e.descriptionStyle,E=z()(e,["left","right","title","description","onPress","theme","style","titleStyle","titleNumberOfLines","descriptionNumberOfLines","titleEllipsizeMode","descriptionEllipsizeMode","descriptionStyle"]),j=l()(o.colors.text).alpha(.87).rgb().string(),S=l()(o.colors.text).alpha(.54).rgb().string();return c.createElement(f.a,N({},E,{style:[F.container,u],onPress:i}),c.createElement(s.a,{style:F.row},t?t({color:S,style:a?F.iconMarginLeft:C(C({},F.iconMarginLeft),F.marginVerticalNone)}):null,c.createElement(s.a,{style:[F.item,F.content]},c.createElement(m.a,{selectable:!1,ellipsizeMode:y,numberOfLines:b,style:[F.title,{color:j},d]},r),a?function(e,t){return"function"===typeof t?t({selectable:!1,ellipsizeMode:h,color:e,fontSize:F.description.fontSize}):c.createElement(m.a,{selectable:!1,numberOfLines:v,ellipsizeMode:h,style:[F.description,{color:e},O]},t)}(S,a):null),n?n({color:S,style:a?F.iconMarginRight:C(C({},F.iconMarginRight),F.marginVerticalNone)}):null))};D.displayName="List.Item";var F=u.a.create({container:{padding:8},row:{flexDirection:"row"},title:{fontSize:16},description:{fontSize:14},marginVerticalNone:{marginVertical:0},iconMarginLeft:{marginLeft:0,marginRight:16},iconMarginRight:{marginRight:0},item:{marginVertical:6,paddingLeft:8},content:{flex:1,justifyContent:"center"}}),V=Object(b.c)(D);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=function(e){var t=e.style,n=e.theme,r=z()(e,["style","theme"]),a=n.colors,i=n.fonts.medium,o=l()(a.text).alpha(.54).rgb().string();return c.createElement(m.a,$({numberOfLines:1},r,{style:[q.container,A({color:o},i),t]}))};M.displayName="List.Subheader";var q=u.a.create({container:{paddingHorizontal:16,paddingVertical:13}}),T=Object(b.c)(M);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var H=function(e){var t=e.children,n=e.title,r=e.titleStyle,a=e.style,i=z()(e,["children","title","titleStyle","style"]);return c.createElement(s.a,G({},i,{style:[J.container,a]}),n?c.createElement(T,{style:r},n):null,t)};H.displayName="List.Section";var J=u.a.create({container:{marginVertical:8}}),B=Object(b.c)(H)},404:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(27),a=n.n(r),i=n(13),o=n.n(i),l=n(0),c=n(59),s=n(5),u=n(197),d=n(200);function f(e,t){var n=Object(d.a)(),r=e[n];return r||u.a[n][t]}function p(e){var t=e.style,n=e.lightColor,r=e.darkColor,i=o()(e,["style","lightColor","darkColor"]),s=f({light:n,dark:r},"text");return l.createElement(c.a,a()({style:[{color:s},t]},i))}function m(e){var t=e.style,n=e.lightColor,r=e.darkColor,i=o()(e,["style","lightColor","darkColor"]),c=f({light:n,dark:r},"background");return l.createElement(s.a,a()({style:[{backgroundColor:c},t]},i))}},407:function(e,t,n){"use strict";var r=n(0),a=n(4),i=n(418);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return r.createElement(i.a,o({},e,{alpha:.87,family:"medium",style:[l.text,e.style]}))};var l=a.a.create({text:{fontSize:20,lineHeight:30,marginVertical:2,letterSpacing:.15}})},408:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),i=n(89),o=n(4),l=n(409),c=n(60);function s(e){var t=Object(l.a)().height,n=Object(c.h)((function(e){return e.global})).theme;return a.a.createElement(i.a,{style:[u.container,{backgroundColor:n.colors.surface,height:t-112},e.style],contentContainerStyle:[u.content,e.contentContainerStyle]},e.children)}var u=o.a.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}})},409:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(53),a=n(0);function i(){var e=Object(a.useState)((function(){return r.a.get("window")})),t=e[0],n=e[1];return Object(a.useEffect)((function(){function e(e){var t=e.window;n(t)}return r.a.addEventListener("change",e),n(r.a.get("window")),function(){r.a.removeEventListener("change",e)}}),[]),t}},412:function(e,t,n){"use strict";var r=n(13),a=n.n(r),i=n(0),o=n(33),l=n.n(o),c=n(8),s=n(4),u=n(442),d=n(38);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=s.a.create({text:{fontSize:12,paddingVertical:4},padding:{paddingHorizontal:12}});t.a=Object(d.c)((function(e){var t=e.style,n=e.type,r=void 0===n?"info":n,o=e.visible,s=void 0===o||o,d=e.theme,m=e.onLayout,b=e.padding,g=void 0===b?"normal":b,v=a()(e,["style","type","visible","theme","onLayout","padding"]),y=i.useRef(new c.a.Value(s?1:0)).current,h=i.useRef(0).current,O=d.animation.scale;i.useEffect((function(){s?c.a.timing(y,{toValue:1,duration:150*O,useNativeDriver:!0}).start():c.a.timing(y,{toValue:0,duration:180*O,useNativeDriver:!0}).start()}),[s,O,y]);var E=d.colors,j=d.dark,S="error"===r?E.error:l()(E.text).alpha(j?.7:.54).rgb().string();return i.createElement(u.a,f({onLayout:function(e){null===m||void 0===m||m(e),h=e.nativeEvent.layout.height},style:[p.text,"none"!==g?p.padding:{},{color:S,opacity:y,transform:s&&"error"===r?[{translateY:y.interpolate({inputRange:[0,1],outputRange:[-h/2,0]})}]:[]},t]},v),v.children)}))},416:function(e,t,n){"use strict";var r=n(27),a=n.n(r),i=n(0),o=n(11),l=n(13),c=n.n(l),s=n(4),u=n(5),d=n(33),f=n.n(d),p=n(87),m=n(193),b=n(38);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n=e.status,r=e.disabled,a=e.onPress,o=e.theme,l=e.testID,s=c()(e,["status","disabled","onPress","theme","testID"]),d="checked"===n,b="indeterminate"===n,v=r?o.colors.disabled:s.color||o.colors.accent;t=r?f()(o.colors.text).alpha(.16).rgb().string():f()(v).fade(.32).rgb().string();var h=b?"minus":"check";return i.createElement(m.a,g({},s,{borderless:!0,rippleColor:t,onPress:a,disabled:r,accessibilityTraits:r?["button","disabled"]:"button",accessibilityComponentType:"button",accessibilityRole:"checkbox",accessibilityState:{disabled:r,checked:d},accessibilityLiveRegion:"polite",style:y.container,testID:l}),i.createElement(u.a,{style:{opacity:b||d?1:0}},i.createElement(p.b,{allowFontScaling:!1,name:h,size:24,color:v,direction:"ltr"})))};v.displayName="Checkbox.IOS";var y=s.a.create({container:{borderRadius:18,padding:6}}),h=Object(b.c)(v),O=(Object(b.c)(v),n(8));function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=function(e){var t=e.status,n=e.theme,r=e.disabled,a=e.onPress,o=e.testID,l=c()(e,["status","theme","disabled","onPress","testID"]),d=i.useRef(new O.a.Value(1)).current,b=i.useRef(!0),g=n.animation.scale;i.useEffect((function(){if(b.current)b.current=!1;else{var e="checked"===t;O.a.sequence([O.a.timing(d,{toValue:.85,duration:e?100*g:0,useNativeDriver:!1}),O.a.timing(d,{toValue:1,duration:e?100*g:100*g*1.75,useNativeDriver:!1})]).start()}}),[t,d,g]);var v,y,h="checked"===t,j="indeterminate"===t,w=l.color||n.colors.accent,P=l.uncheckedColor||f()(n.colors.text).alpha(n.dark?.7:.54).rgb().string();r?(v=f()(n.colors.text).alpha(.16).rgb().string(),y=n.colors.disabled):(v=f()(w).fade(.32).rgb().string(),y=h?w:P);var x=d.interpolate({inputRange:[.8,1],outputRange:[7,0]}),I=j?"minus-box":h?"checkbox-marked":"checkbox-blank-outline";return i.createElement(m.a,E({},l,{borderless:!0,rippleColor:v,onPress:a,disabled:r,accessibilityTraits:r?["button","disabled"]:"button",accessibilityComponentType:"button",accessibilityRole:"checkbox",accessibilityState:{disabled:r,checked:h},accessibilityLiveRegion:"polite",style:S.container,testID:o}),i.createElement(O.a.View,{style:{transform:[{scale:d}]}},i.createElement(p.b,{allowFontScaling:!1,name:I,size:24,color:y,direction:"ltr"}),i.createElement(u.a,{style:[s.a.absoluteFill,S.fillContainer]},i.createElement(O.a.View,{style:[S.fill,{borderColor:y},{borderWidth:x}]}))))};j.displayName="Checkbox.Android";var S=s.a.create({container:{borderRadius:18,width:36,height:36,padding:6},fillContainer:{alignItems:"center",justifyContent:"center"},fill:{height:14,width:14}}),w=Object(b.c)(j),P=(Object(b.c)(j),function(e){return"ios"===o.a.OS?i.createElement(h,e):i.createElement(w,e)}),x=Object(b.c)(P),I=(Object(b.c)(P),n(7)),k=n.n(I),z=n(119);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t,n=e.style,r=e.status,a=e.label,o=e.onPress,l=e.labelStyle,s=e.theme,d=e.testID,f=e.mode,p=C(C({},c()(e,["style","status","label","onPress","labelStyle","theme","testID","mode"])),{},{status:r,theme:s});return t="android"===f?i.createElement(w,p):"ios"===f?i.createElement(h,p):i.createElement(x,p),i.createElement(m.a,{onPress:o,testID:d},i.createElement(u.a,{style:[F.container,n],pointerEvents:"none"},i.createElement(z.a,{style:[F.label,{color:s.colors.text},l]},a),t))};N.displayName="Checkbox.Item";var D=Object(b.c)(N),F=(Object(b.c)(N),s.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:8,paddingHorizontal:16},label:{fontSize:16,flexShrink:1,flexGrow:1}})),V=a()(x,{Item:D,Android:w,IOS:h});t.a=V},420:function(e,t,n){"use strict";var r=n(13),a=n.n(r),i=n(0),o=n(33),l=n.n(o),c=n(4),s=n(5),u=n(38),d=n(32);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=c.a.create({light:{backgroundColor:l()(d.a).alpha(.12).rgb().string(),height:c.a.hairlineWidth},dark:{backgroundColor:l()(d.h).alpha(.12).rgb().string(),height:c.a.hairlineWidth},inset:{marginLeft:72}});t.a=Object(u.c)((function(e){var t=e.inset,n=e.style,r=e.theme,o=a()(e,["inset","style","theme"]),l=r.dark;return i.createElement(s.a,f({},o,{style:[l?p.dark:p.light,t&&p.inset,n]}))}))},426:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(103),a=n(205),i=r.a.actions;a.a},530:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var r,a=n(6),i=n.n(a),o=n(405),l=n.n(o),c=n(10),s=n.n(c),u=n(0),d=n.n(u),f=n(4),p=n(203),m=n(120),b=n(60),g=n(73),v=n(404),y=n(426),h=n(161),O=n(169),E=n(5),j=n(428),S=n(412),w=n(416),P=n(420),x=n(88),I=n(419),k=n(194),z=Object(x.a)(r||(r=l()(["\n  query QueryPlanes(\n    $dropzoneId: Int!\n  ) {\n    planes(dropzoneId: $dropzoneId) {\n      id\n      name\n      registration\n      hours\n      minSlots\n      maxSlots\n      nextMaintenanceHours\n      createdAt\n    }\n  }\n"])));function L(e){var t,n,r,a=Object(u.useState)(!1),o=i()(a,2),l=o[0],c=o[1],s=Object(b.h)((function(e){return e.global})),f=Object(m.useQuery)(z,{variables:{dropzoneId:Number(null==(t=s.currentDropzone)?void 0:t.id)}}),p=f.data;f.loading,f.refetch;return d.a.createElement(I.a,{onDismiss:function(){return c(!1)},visible:l,anchor:d.a.createElement(k.a.Item,{onPress:function(){c(!0)},title:(null==(n=e.value)?void 0:n.name)||"No plane selected",description:e.required?null:"Optional",right:function(){return d.a.createElement(k.a.Icon,{icon:"airplane"})}})},null==p||null==(r=p.planes)?void 0:r.map((function(t){return d.a.createElement(k.a.Item,{onPress:function(){c(!1),e.onSelect(t)},title:t.name||"-",description:t.registration})})))}var C,N=n(407);var D=function(e,t){var n=t.getPayload;return function(t){var r=t.variables,a=t.onError,i=Object(b.g)(),o=Object(m.useQuery)(e,{variables:r}),l=o.data,c=o.loading,s=o.previousData,d=o.refetch,f=o.error,p=Object(u.useMemo)((function(){return n(l)}),[JSON.stringify(l)]);return Object(u.useEffect)((function(){JSON.stringify(s),JSON.stringify(l);null!=f&&f.message&&(!1!==t.showSnackbarErrors&&i(b.f.showSnackbar({message:f.message,variant:"error"})),a(f.message))}),[t.onError,null==f?void 0:f.message]),{loading:c,data:p,refetch:d}}}(Object(x.a)(C||(C=l()(["\nquery QueryDropzoneUsers(\n  $dropzoneId: Int!\n  $permissions: [Permission!]\n) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n\n    dropzoneUsers(permissions: $permissions) {\n      edges {\n        node {\n          id\n          role {\n            id\n            name\n          }\n          user {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n}\n"]))),{getPayload:function(e){var t;return null==e||null==(t=e.dropzone)?void 0:t.dropzoneUsers}});function F(e){var t,n,r,a,o,l=Object(u.useState)(!1),c=i()(l,2),s=c[0],f=c[1],p=Object(b.h)((function(e){return e.global})),m=D({variables:{dropzoneId:Number(null==(t=p.currentDropzone)?void 0:t.id),permissions:e.requiredPermissions}}),g=m.data;m.loading,m.refetch;return d.a.createElement(d.a.Fragment,null,d.a.createElement(N.a,null,e.label),d.a.createElement(I.a,{onDismiss:function(){return f(!1)},visible:s,anchor:d.a.createElement(k.a.Item,{onPress:function(){f(!0)},title:null!=(n=e.value)&&null!=(r=n.user)&&r.id?null==(a=e.value)?void 0:a.user.name:"No user selected",style:{width:"100%"},right:function(){return d.a.createElement(k.a.Icon,{icon:"account"})},description:e.required?null:"Optional"})},null==g||null==(o=g.edges)?void 0:o.map((function(t){var n,r,a,i;return d.a.createElement(k.a.Item,{style:{width:"100%"},onPress:function(){f(!1),e.onSelect(null==t?void 0:t.node)},title:(null==t||null==(n=t.node)||null==(r=n.user)?void 0:r.name)||"-",description:(null==t||null==(a=t.node)||null==(i=a.role)?void 0:i.name)||null})}))))}var V=O.a.actions;function R(){var e,t,n,r,a,i=Object(b.h)((function(e){return e.loadForm})),o=Object(b.g)(),l=Object(b.h)((function(e){return e.global}));return u.createElement(u.Fragment,null,u.createElement(j.a,{style:$.field,mode:"outlined",label:"Name",error:!!i.fields.name.error,placeholder:"Optional",value:i.fields.name.value||"",onChangeText:function(e){return o(V.setField(["name",e]))}}),u.createElement(S.a,{type:i.fields.name.error?"error":"info"},i.fields.name.error||"e.g Starcrest load, Tandem load"),u.createElement(j.a,{style:$.field,mode:"outlined",label:"Slots",error:!!i.fields.maxSlots.error,value:null==(e=i.fields.maxSlots)||null==(t=e.value)?void 0:t.toString(),onChangeText:function(e){return o(V.setField(["maxSlots",Number(e)]))}}),u.createElement(S.a,{type:i.fields.maxSlots.error?"error":"info"},i.fields.maxSlots.error||""),u.createElement(E.a,{style:{width:"100%"}},u.createElement(L,{value:i.fields.plane.value,required:!0,onSelect:function(e){o(V.setField(["plane",e])),o(V.setField(["maxSlots",e.maxSlots]))},dropzoneId:Number(null==(n=l.currentDropzone)?void 0:n.id)}),u.createElement(S.a,{type:i.fields.plane.error?"error":"info"},i.fields.plane.error||""),u.createElement(w.a.Item,{label:"Allow public manifesting",status:i.fields.isOpen.value?"checked":"unchecked",onPress:function(){return o(V.setField(["isOpen",!i.fields.isOpen.value]))}}),u.createElement(P.a,{style:{marginVertical:8}}),u.createElement(F,{label:"GCA",onSelect:function(e){return o(V.setField(["gca",e]))},dropzoneId:Number(null==(r=l.currentDropzone)?void 0:r.id),value:i.fields.gca.value||null,requiredPermissions:["actAsGCA"],required:!0}),u.createElement(S.a,{type:i.fields.gca.error?"error":"info"},i.fields.gca.error||""),u.createElement(F,{label:"Pilot",onSelect:function(e){return o(V.setField(["pilot",e]))},dropzoneId:Number(null==(a=l.currentDropzone)?void 0:a.id),value:i.fields.pilot.value||null,requiredPermissions:["actAsPilot"]}),u.createElement(S.a,{type:i.fields.pilot.error?"error":"info"},i.fields.pilot.error||"")))}var A,$=f.a.create({fields:{flex:1,width:"100%"},field:{marginBottom:8,width:"100%"}}),M=n(408),q=n(297),T=O.a.actions,G=(h.a.actions,Object(m.gql)(A||(A=l()(["\n  mutation CreateLoad(\n    $name: String,\n    $pilotId: Int,\n    $gcaId: Int,\n    $maxSlots: Int!,\n    $planeId: Int,\n    $isOpen: Boolean,\n  ){\n    createLoad(input: {\n      attributes: {\n        name: $name,\n        pilotId: $pilotId,\n        gcaId: $gcaId,\n        maxSlots: $maxSlots,\n        planeId: $planeId,\n        isOpen: $isOpen,\n      }\n    }) {\n      load {\n        id\n        name\n        pilot {\n          id\n          user {\n            id \n            name\n          }\n        }\n        gca {\n          id\n          user {\n            id \n            name\n          }\n        }\n        maxSlots\n        isOpen\n      }\n      fieldErrors {\n        field,\n        message\n      }\n      errors\n    }\n  }\n"]))));function H(){var e=Object(b.h)((function(e){return e})),t=e.loadForm,n=e.global,r=Object(b.g)(),a=Object(g.useNavigation)(),o=Object(m.useMutation)(G),l=i()(o,2),c=l[0],d=l[1],f=u.useCallback((function(){var e=!1;return t.fields.maxSlots.value<1&&(e=!0,r(T.setFieldError(["maxSlots","Please specify amount of allowed jumpers"]))),t.fields.plane.value||(e=!0,r(T.setFieldError(["plane","What plane is flying this load?"]))),t.fields.gca.value||(e=!0,r(T.setFieldError(["gca","You must have a GCA for this load"]))),!e}),[JSON.stringify(t.fields),r]),h=u.useCallback((function(){var e,i,o,l,u,d,p,m,b,g,v,h,O,E,j,S,w,P,x,I,k,z,L,C,N,D,F,V;return s.a.async((function(R){for(;;)switch(R.prev=R.next){case 0:if(e=t.fields,i=e.name,o=e.gca,e.loadMaster,l=e.plane,u=e.maxSlots,d=e.pilot,p=e.isOpen,!f()){R.next=15;break}return R.prev=2,R.next=5,s.a.awrap(c({variables:{dropzoneId:Number(null==(m=n.currentDropzone)?void 0:m.id),name:i.value,maxSlots:u.value,planeId:null!=(b=l.value)&&b.id?Number(null==(g=l.value)?void 0:g.id):null,pilotId:null!=(v=d.value)&&v.id?Number(null==(h=l.value)?void 0:h.id):null,gcaId:null!=(O=o.value)&&null!=(E=O.user)&&E.id?Number(null==(j=o.value)||null==(S=j.user)?void 0:S.id):null,isOpen:!!p.value}}));case 5:if(N=R.sent,null==(w=N.data)||null==(P=w.createLoad)||null==(x=P.fieldErrors)||x.map((function(e){var t=e.field,n=e.message;switch(t){case"name":return r(T.setFieldError(["name",n]));case"maxSlots":return r(T.setFieldError(["maxSlots",n]));case"plane":return r(T.setFieldError(["plane",n]));case"gca":return r(T.setFieldError(["gca",n]));case"is_open":return r(T.setFieldError(["isOpen",n]));case"pilot":return r(T.setFieldError(["pilot",n]))}})),null==N||null==(I=N.data)||null==(k=I.createLoad)||null==(z=k.errors)||!z.length){R.next=9;break}return R.abrupt("return",r(y.a.showSnackbar({message:N.data.createLoad.errors[0],variant:"error"})));case 9:null!=(L=N.data)&&null!=(C=L.createLoad)&&C.load&&(V=N.data.createLoad.load,r(y.a.showSnackbar({message:"Load "+V.name+" created",variant:"success"})),null!=(D=N.data)&&null!=(F=D.createLoad)&&F.fieldErrors||a.goBack()),R.next=15;break;case 12:R.prev=12,R.t0=R.catch(2),r(y.a.showSnackbar({message:R.t0.message,variant:"error"}));case 15:case"end":return R.stop()}}),null,null,[[2,12]],Promise)}),[JSON.stringify(t.fields),r,c]);return u.createElement(M.a,{contentContainerStyle:J.content},u.createElement(q.a,{name:"airplane-takeoff",size:100,color:"#999999",style:{alignSelf:"center",marginTop:32}}),u.createElement(R,null),u.createElement(v.b,{style:J.fields},u.createElement(p.a,{mode:"contained",style:J.button,disabled:d.loading,onPress:h,loading:d.loading},"Save")))}var J=f.a.create({content:{paddingHorizontal:48},button:{},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{marginVertical:16,width:"100%"},field:{marginBottom:8}})}}]);
//# sourceMappingURL=15.134ebaec.chunk.js.map