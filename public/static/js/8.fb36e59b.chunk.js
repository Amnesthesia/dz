(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{408:function(e,n,r){"use strict";r.d(n,"a",(function(){return s}));var t=r(0),a=r.n(t),l=r(89),i=r(4),o=r(409),c=r(60);function s(e){var n=Object(o.a)().height,r=Object(c.h)((function(e){return e.global})).theme;return a.a.createElement(l.a,{style:[u.container,{backgroundColor:r.colors.surface,height:n-112},e.style],contentContainerStyle:[u.content,e.contentContainerStyle]},e.children)}var u=i.a.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}})},415:function(e,n,r){"use strict";var t=r(13),a=r.n(t),l=r(0),i=r(4),o=r(5),c=r(119),s=r(193);function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var d=function(e){var n=e.children,r=e.style,t=e.numeric,i=a()(e,["children","style","numeric"]);return l.createElement(s.a,u({},i,{style:[m.container,t&&m.right,r]}),l.createElement(c.a,{numberOfLines:1},n))};d.displayName="DataTable.Cell";var m=i.a.create({container:{flex:1,flexDirection:"row",alignItems:"center"},right:{justifyContent:"flex-end"}}),p=d,f=r(33),g=r.n(f),b=r(32),v=r(38);function E(){return(E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var y=function(e){var n=e.children,r=e.style,t=e.theme,i=a()(e,["children","style","theme"]),c=g()(t.dark?b.h:b.a).alpha(.12).rgb().string();return l.createElement(o.a,E({},i,{style:[h.header,{borderBottomColor:c},r]}),n)};y.displayName="DataTable.Header";var h=i.a.create({header:{flexDirection:"row",height:48,paddingHorizontal:16,borderBottomWidth:2*i.a.hairlineWidth}}),O=Object(v.c)(y),z=r(8),x=r(196),j=r(31),I=r(87);function k(){return(k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var S=function(e){var n=e.numeric,r=e.children,t=e.onPress,i=e.sortDirection,s=e.theme,u=e.style,d=e.numberOfLines,m=void 0===d?1:d,p=a()(e,["numeric","children","onPress","sortDirection","theme","style","numberOfLines"]),f=l.useRef(new z.a.Value("ascending"===i?0:1)).current;l.useEffect((function(){z.a.timing(f,{toValue:"ascending"===i?0:1,duration:150,useNativeDriver:!0}).start()}),[i,f]);var b=g()(s.colors.text).alpha(.6).rgb().string(),v=f.interpolate({inputRange:[0,1],outputRange:["0deg","180deg"]}),E=i?l.createElement(z.a.View,{style:[C.icon,{transform:[{rotate:v}]}]},l.createElement(I.b,{name:"arrow-up",size:16,color:s.colors.text,direction:j.a.isRTL?"rtl":"ltr"})):null;return l.createElement(x.a,k({disabled:!t,onPress:t},p),l.createElement(o.a,{style:[C.container,n&&C.right,u]},E,l.createElement(c.a,{style:[C.cell,i?C.sorted:{color:b}],numberOfLines:m},r)))};S.displayName="DataTable.Title";var C=i.a.create({container:{flex:1,flexDirection:"row",alignContent:"center",paddingVertical:12},right:{justifyContent:"flex-end"},cell:{height:24,lineHeight:24,fontSize:12,fontWeight:"500",alignItems:"center"},sorted:{marginLeft:8},icon:{height:24,justifyContent:"center"}}),w=Object(v.c)(S),P=r(406);function A(){return(A=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var $=function(e){var n=e.label,r=e.page,t=e.numberOfPages,i=e.onPageChange,s=e.style,u=e.theme,d=a()(e,["label","page","numberOfPages","onPageChange","style","theme"]),m=g()(u.colors.text).alpha(.6).rgb().string();return l.createElement(o.a,A({},d,{style:[U.container,s]}),l.createElement(c.a,{style:[U.label,{color:m}],numberOfLines:1},n),l.createElement(P.a,{icon:function(e){var n=e.size,r=e.color;return l.createElement(I.b,{name:"chevron-left",color:r,size:n,direction:j.a.isRTL?"rtl":"ltr"})},color:u.colors.text,disabled:0===r,onPress:function(){return i(r-1)}}),l.createElement(P.a,{icon:function(e){var n=e.size,r=e.color;return l.createElement(I.b,{name:"chevron-right",color:r,size:n,direction:j.a.isRTL?"rtl":"ltr"})},color:u.colors.text,disabled:0===t||r===t-1,onPress:function(){return i(r+1)}}))};$.displayName="DataTable.Pagination";var U=i.a.create({container:{justifyContent:"flex-end",flexDirection:"row",alignItems:"center",paddingLeft:16},label:{fontSize:12,marginRight:44}}),D=Object(v.c)($);function F(){return(F=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var R=i.a.create({container:{borderStyle:"solid",borderBottomWidth:i.a.hairlineWidth,minHeight:48,paddingHorizontal:16},content:{flex:1,flexDirection:"row"}}),T=Object(v.c)((function(e){var n=e.onPress,r=e.style,t=e.theme,i=e.children,c=e.pointerEvents,u=a()(e,["onPress","style","theme","children","pointerEvents"]),d=g()(t.dark?b.h:b.a).alpha(.12).rgb().string();return l.createElement(s.a,F({},u,{onPress:n,style:[R.container,{borderBottomColor:d},r]}),l.createElement(o.a,{style:R.content,pointerEvents:c},i))}));function N(){return(N=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var M=function(e){var n=e.children,r=e.style,t=a()(e,["children","style"]);return l.createElement(o.a,N({},t,{style:[L.container,r]}),n)};M.Header=O,M.Title=w,M.Row=T,M.Cell=p,M.Pagination=D;var L=i.a.create({container:{width:"100%"}});n.a=M},455:function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var t=r(6),a=r.n(t),l=r(0),i=r(419),o=r(194),c=r(475),s=r.n(c),u=(r(476),r(468));function d(e){var n=l.useState(!1),r=a()(n,2),t=r[0],c=r[1];l.useCallback((function(){c(!1)}),[c]),l.useCallback((function(n){var r=n.date;c(!1),e.onChange(r.getTime()/1e3)}),[c,e.onChange]);return l.createElement(l.Fragment,null,l.createElement(i.a,{onDismiss:function(){return c(!1)},visible:t,anchor:l.createElement(o.a.Item,{onPress:function(){return c(!0)},disabled:!!e.disabled,title:e.label,description:e.timestamp?Object(u.a)(1e3*e.timestamp,"yyyy/MM/dd"):"No date selected",left:function(){return l.createElement(o.a.Icon,{icon:"calendar"})}})},l.createElement(s.a,{selectedDays:e.timestamp?[new Date(1e3*e.timestamp)]:[],onDayClick:function(n){e.onChange(n.getTime()/1e3),c(!1)}})))}},480:function(e,n,r){"use strict";r.r(n),r.d(n,"default",(function(){return te}));var t=r(6),a=r.n(t),l=r(405),i=r.n(l),o=r(73),c=r(0),s=r.n(c),u=r(4),d=r(390),m=r(411),p=r(194),f=r(203),g=r(415),b=r(468),v=r(7),E=r.n(v),y=r(10),h=r.n(y),O=r(120),z=r(413),x=r(429),j=r(60),I=r(428),k=r(412),S=r(185),C=r(455),w=S.a.actions;function P(){var e,n=Object(j.h)((function(e){return e.rigForm})),r=Object(j.g)(),t=c.useState(!1),l=a()(t,2);l[0],l[1];return c.createElement(c.Fragment,null,c.createElement(I.a,{style:U.field,mode:"outlined",label:"Make",error:!!n.fields.make.error,value:n.fields.make.value||"",onChangeText:function(e){return r(w.setField(["make",e]))}}),c.createElement(k.a,{type:n.fields.make.error?"error":"info"},n.fields.make.error||"e.g Javelin, Mirage"),c.createElement(I.a,{style:U.field,mode:"outlined",label:"Model",error:!!n.fields.model.error,value:n.fields.model.value||"",onChangeText:function(e){return r(w.setField(["model",e]))}}),c.createElement(k.a,{type:n.fields.model.error?"error":"info"},n.fields.model.error||"e.g G4.1"),c.createElement(I.a,{style:U.field,mode:"outlined",label:"Serial",error:!!n.fields.serial.error,value:n.fields.serial.value||"",onChangeText:function(e){return r(w.setField(["serial",e]))}}),c.createElement(k.a,{type:n.fields.serial.error?"error":"info"},n.fields.serial.error||""),c.createElement(I.a,{style:U.field,mode:"outlined",label:"Current canopy size",error:!!n.fields.canopySize.error,value:(null==(e=n.fields.canopySize.value)?void 0:e.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return r(w.setField(["canopySize",Number(e)]))}}),c.createElement(k.a,{type:n.fields.canopySize.error?"error":"info"},n.fields.canopySize.error||"Size of canopy in container"),c.createElement(C.a,{timestamp:n.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return r(w.setField(["repackExpiresAt",e]))},label:"Reserve repack expiry date"}))}var A,$,U=u.a.create({fields:{flex:1},field:{marginBottom:8}});function D(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function F(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?D(Object(r),!0).forEach((function(n){E()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var R=Object(O.gql)(A||(A=i()(["\n  mutation CreateRig(\n    $make: String,\n    $model: String,\n    $serial: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    createRig(\n      input: {\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),T=Object(O.gql)($||($=i()(["\n  mutation UpdateRig(\n    $id: Int!\n    $make: String,\n    $model: String,\n    $serial: String,\n    $canopySize: Int,\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    updateRig(\n      input: {\n        id: $id,\n        attributes: {\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n\n        user {\n          id\n          rigs {\n            id\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"])));function N(e){var n,r=Object(j.g)(),t=Object(j.h)((function(e){return e.rigForm})),l=Object(j.h)((function(e){return e.global})),i=Object(O.useMutation)(R),o=a()(i,2),u=o[0],m=o[1],p=Object(O.useMutation)(T),g=a()(p,2),b=g[0],v=g[1],E=Object(c.useCallback)((function(){var e=!1;return t.fields.make.value||(e=!0,r(j.c.setFieldError(["make","Required"]))),t.fields.model.value||(e=!0,r(j.c.setFieldError(["model","Required"]))),t.fields.serial.value||(e=!0,r(j.c.setFieldError(["serial","Required"]))),t.fields.canopySize.value||(e=!0,r(j.c.setFieldError(["canopySize","Required"]))),t.fields.repackExpiresAt.value||(e=!0,r(j.c.setFieldError(["repackExpiresAt","Required"]))),!e}),[JSON.stringify(t.fields)]),y=Object(c.useCallback)((function(){var n,a,l,i,o,c,s,d,m,p,f,g;return h.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(E()){v.next=2;break}return v.abrupt("return");case 2:return v.prev=2,p=null!=(n=t.original)&&n.id?b:u,v.next=6,h.a.awrap(p({variables:F(F({},null!=(a=t.original)&&a.id?{id:null==(l=t.original)?void 0:l.id}:{}),{},{make:t.fields.make.value,model:t.fields.model.value,serial:t.fields.serial.value,canopySize:t.fields.canopySize.value,repackExpiresAt:t.fields.repackExpiresAt.value,userId:e.userId?Number(e.userId):null,dropzoneId:e.dropzoneId?Number(e.dropzoneId):null})}));case 6:if(f=v.sent,null==(g=null!=(i=t.original)&&i.id?null==(o=f.data)?void 0:o.updateRig:null==(c=f.data)?void 0:c.createRig)||null==(s=g.fieldErrors)||s.map((function(e){var n=e.field,t=e.message;switch(n){case"make":return r(j.c.setFieldError(["make",t]));case"model":return r(j.c.setFieldError(["model",t]));case"serial":return r(j.c.setFieldError(["serial",t]));case"canopySize":return r(j.c.setFieldError(["canopySize",t]));case"repack_expires_at":return r(j.c.setFieldError(["repackExpiresAt",t]))}})),null==g||null==(d=g.errors)||!d.length){v.next=11;break}return v.abrupt("return",r(j.f.showSnackbar({message:null==g?void 0:g.errors[0],variant:"error"})));case 11:null!=g&&null!=(m=g.fieldErrors)&&m.length||e.onSuccess(),v.next=17;break;case 14:v.prev=14,v.t0=v.catch(2),r(j.f.showSnackbar({message:v.t0.message,variant:"error"}));case 17:case"end":return v.stop()}}),null,null,[[2,14]],Promise)}),[JSON.stringify(t.fields),u,e.onSuccess]);return s.a.createElement(z.a,null,s.a.createElement(x.a,{visible:!!e.open},s.a.createElement(d.a,{indeterminate:!0,visible:m.loading||v.loading,color:l.theme.colors.accent}),s.a.createElement(x.a.Title,null,(null!=t&&null!=(n=t.original)&&n.id?"Edit":"New")+" rig"),s.a.createElement(x.a.Content,null,s.a.createElement(P,null)),s.a.createElement(x.a.Actions,{style:{justifyContent:"flex-end"}},s.a.createElement(f.a,{onPress:function(){r(j.c.reset()),e.onClose()}},"Cancel"),s.a.createElement(f.a,{onPress:y},"Save"))))}var M,L=r(88),q=r(408),B=r(184),V=r(419),H=Object(L.a)(M||(M=i()(["\n  query RolesQuery($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n      }\n    }\n  }\n"])));function W(e){var n,r,t,l,i=Object(c.useState)(!1),o=a()(i,2),u=o[0],d=o[1],m=Object(j.h)((function(e){return e.global})),f=Object(O.useQuery)(H,{variables:{dropzoneId:Number(null==(n=m.currentDropzone)?void 0:n.id)}}),g=f.data;f.loading,f.refetch;return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a.Subheader,{style:{paddingLeft:0}},"Access level"),s.a.createElement(V.a,{onDismiss:function(){return d(!1)},visible:!e.disabled&&u,anchor:s.a.createElement(p.a.Item,{left:function(){return s.a.createElement(p.a.Icon,{icon:"lock"})},onPress:e.disabled?void 0:function(){d(!0)},title:(null==(r=e.value)?void 0:r.name)||"Access level",description:e.required?null:"Optional"})},null==g||null==(t=g.dropzone)||null==(l=t.roles)?void 0:l.map((function(n){return s.a.createElement(p.a.Item,{onPress:function(){d(!1),e.onSelect(n)},title:n.name||"-"})}))))}var J=r(441),Q=B.a.actions;function _(){var e,n,r=Object(j.h)((function(e){return e})),t=r.dropzoneUserForm,a=(r.global,Object(j.g)()),l=Object(J.a)("updatePermission");return c.createElement(c.Fragment,null,c.createElement(W,{value:t.fields.role.value,onSelect:function(e){return a(Q.setField(["role",e]))},disabled:!l,required:!0}),c.createElement(k.a,{type:t.fields.role.error?"error":"info"},t.fields.role.error),c.createElement(p.a.Subheader,{style:{paddingLeft:0}},"Financial"),c.createElement(C.a,{timestamp:t.fields.expiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return a(Q.setField(["expiresAt",e]))},label:"Membership expires"}),c.createElement(k.a,{type:t.fields.expiresAt.error?"error":"info"},t.fields.expiresAt.error),c.createElement(I.a,{style:K.field,mode:"outlined",label:"Credits",error:!!t.fields.credits.error,value:(null==(e=t.fields.credits.value)?void 0:e.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return a(Q.setField(["credits",Number(e)]))}}),c.createElement(k.a,{type:t.fields.credits.error?"error":"info"},t.fields.credits.error||"Current balance: $"+((null==(n=t.original)?void 0:n.credits)||0)))}var G,K=u.a.create({fields:{flex:1},field:{marginBottom:8}});function X(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?X(Object(r),!0).forEach((function(n){E()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Z,ee=Object(O.gql)(G||(G=i()(["\n  mutation UpdateDropzoneUser(\n    $credits: Float,\n    $userRoleId: Int,\n    $expiresAt: Int,\n    $dropzoneUserId: Int\n  ) {\n    updateDropzoneUser(\n      input: {\n        id: $dropzoneUserId,\n        attributes: {\n          credits: $credits,\n          userRoleId: $userRoleId,\n          expiresAt: $expiresAt,\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      dropzoneUser {\n        id\n        credits\n        expiresAt\n        role {\n          id\n          name\n        }\n\n        user {\n          id\n          name\n        }\n      }\n    }\n  }\n"])));function ne(e){var n,r=Object(j.g)(),t=Object(j.h)((function(e){return e.dropzoneUserForm})),l=Object(j.h)((function(e){return e.global})),i=Object(O.useMutation)(ee),o=a()(i,2),u=o[0],m=o[1],p=Object(c.useCallback)((function(){var e=!1;return t.fields.credits.value||(e=!0,r(j.a.setFieldError(["credits","Required"]))),t.fields.role.value||(e=!0,r(j.a.setFieldError(["role","User must have an access level"]))),t.fields.expiresAt.value||(e=!0,r(j.a.setFieldError(["expiresAt","Membership expiry must be set"]))),!e}),[JSON.stringify(t.fields)]),g=Object(c.useCallback)((function(){var n,a,l,i,o,c,s,d,m,f,g,b;return h.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(p()){v.next=2;break}return v.abrupt("return");case 2:return v.prev=2,v.next=5,h.a.awrap(u({variables:Y(Y({},null!=(n=t.original)&&n.id?{id:null==(a=t.original)?void 0:a.id}:{}),{},{credits:t.fields.credits.value,userRoleId:Number(null==(l=t.fields.role.value)?void 0:l.id),expiresAt:t.fields.expiresAt.value,dropzoneUserId:Number(null==(i=t.original)?void 0:i.id)})}));case 5:if(g=v.sent,null==(b=null!=(o=t.original)&&o.id?null==(c=g.data)?void 0:c.updateRig:null==(s=g.data)?void 0:s.createRig)||null==(d=b.fieldErrors)||d.map((function(e){var n=e.field,t=e.message;switch(n){case"user_role":return r(j.a.setFieldError(["role",t]));case"credits":return r(j.a.setFieldError(["credits",t]));case"expires_at":return r(j.a.setFieldError(["expiresAt",t]))}})),null==b||null==(m=b.errors)||!m.length){v.next=10;break}return v.abrupt("return",r(j.f.showSnackbar({message:null==b?void 0:b.errors[0],variant:"error"})));case 10:null!=b&&null!=(f=b.fieldErrors)&&f.length||e.onSuccess(),v.next=16;break;case 13:v.prev=13,v.t0=v.catch(2),r(j.f.showSnackbar({message:v.t0.message,variant:"error"}));case 16:case"end":return v.stop()}}),null,null,[[2,13]],Promise)}),[JSON.stringify(t.fields),u,e.onSuccess]);return s.a.createElement(z.a,null,s.a.createElement(x.a,{visible:!!e.open},s.a.createElement(d.a,{indeterminate:!0,visible:m.loading,color:l.theme.colors.accent}),s.a.createElement(x.a.Title,null,(null!=t&&null!=(n=t.original)&&n.id?"Edit":"New")+" dropzone user"),s.a.createElement(x.a.Content,null,s.a.createElement(_,null)),s.a.createElement(x.a.Actions,{style:{justifyContent:"flex-end"}},s.a.createElement(f.a,{onPress:function(){r(j.a.reset()),e.onClose()}},"Cancel"),s.a.createElement(f.a,{onPress:g},"Save"))))}var re=Object(L.a)(Z||(Z=i()(["\n  query QueryDropzoneUser($dropzoneId: Int!, $dropzoneUserId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUser(id: $dropzoneUserId) {\n        id\n        credits\n        expiresAt\n        role {\n          id\n          name\n        }\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          rigs {\n            id\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));function te(){var e,n,r,t,l,i,s,u,v,E,y,h,z,x,I,k,S,C,w,P,A,$,U,D,F,R,T,M,L,B,V,H,W,Q,_,G,K,X,Y,Z=Object(j.h)((function(e){return e.global})),ee=Object(j.g)(),te=Object(o.useNavigation)(),le=c.useState(!1),ie=a()(le,2),oe=ie[0],ce=ie[1],se=c.useState(!1),ue=a()(se,2),de=ue[0],me=ue[1],pe=Object(o.useRoute)(),fe=(null==(e=Z.currentDropzone)||null==(n=e.currentUser)?void 0:n.id)===pe.params.userId,ge=Object(J.a)("actAsRigInspector"),be=Object(O.useQuery)(re,{variables:{dropzoneId:Number(null==(r=Z.currentDropzone)?void 0:r.id),dropzoneUserId:Number(pe.params.userId)}}),ve=be.data,Ee=be.loading,ye=c.useCallback((function(e){return function(){fe?ge&&te.navigate("RigInspectionScreen",{dropzoneUserId:Number(pe.params.userId),rig:e}):(ee(j.c.setOriginal(e)),ce(!0))}}),[ee,ce]);return c.createElement(c.Fragment,null,c.createElement(d.a,{color:Z.theme.colors.accent,indeterminate:!0,visible:Ee}),c.createElement(q.a,{contentContainerStyle:ae.content},c.createElement(m.a,{elevation:3,style:ae.card},c.createElement(m.a.Title,{title:"Basic information"}),c.createElement(m.a.Content,null,c.createElement(p.a.Item,{title:"Name",left:function(){return c.createElement(p.a.Icon,{icon:"account-outline"})},description:(null==ve||null==(t=ve.dropzone)||null==(l=t.dropzoneUser)||null==(i=l.user)?void 0:i.name)||"-"}),c.createElement(p.a.Item,{title:"Email",left:function(){return c.createElement(p.a.Icon,{icon:"at"})},description:(null==ve||null==(s=ve.dropzone)||null==(u=s.dropzoneUser)||null==(v=u.user)?void 0:v.email)||"-"}),c.createElement(p.a.Item,{title:"Phone",left:function(){return c.createElement(p.a.Icon,{icon:"phone"})},description:(null==ve||null==(E=ve.dropzone)||null==(y=E.dropzoneUser)||null==(h=y.user)?void 0:h.phone)||"-"}),c.createElement(p.a.Item,{title:"License",left:function(){return c.createElement(p.a.Icon,{icon:"ticket-account"})},description:(null==ve||null==(z=ve.dropzone)||null==(x=z.dropzoneUser)||null==(I=x.user)||null==(k=I.license)?void 0:k.name)||"-"}),c.createElement(p.a.Item,{title:"Exit weight",left:function(){return c.createElement(p.a.Icon,{icon:"scale"})},description:(null==ve||null==(S=ve.dropzone)||null==(C=S.dropzoneUser)||null==(w=C.user)?void 0:w.exitWeight)||"-"})),fe&&c.createElement(m.a.Actions,{style:{justifyContent:"flex-end"}},c.createElement(f.a,{icon:"pencil",onPress:function(){var e,n;return te.navigate("UpdateUserScreen",{user:null==(e=Z.currentDropzone)||null==(n=e.currentUser)?void 0:n.user})}},"Edit"))),c.createElement(m.a,{elevation:3,style:ae.card},c.createElement(m.a.Title,{title:null==(P=Z.currentDropzone)?void 0:P.name}),c.createElement(m.a.Content,null,c.createElement(p.a.Item,{title:"Role",description:null==ve||null==(A=ve.dropzone)||null==($=A.dropzoneUser)||null==(U=$.role)?void 0:U.name,left:function(){return c.createElement(p.a.Icon,{icon:"lock"})}}),c.createElement(p.a.Item,{title:"Credits",description:null==ve||null==(D=ve.dropzone)||null==(F=D.dropzoneUser)?void 0:F.credits,left:function(){return c.createElement(p.a.Icon,{icon:"cash-multiple"})}}),c.createElement(p.a.Item,{title:"Membership",description:null!=ve&&null!=(R=ve.dropzone)&&null!=(T=R.dropzoneUser)&&T.expiresAt?Object(b.a)(1e3*((null==ve||null==(M=ve.dropzone)||null==(L=M.dropzoneUser)?void 0:L.expiresAt)||0),"yyyy/MM/dd"):c.createElement("span",null,"Not a member"),left:function(){var e,n,r,t;return c.createElement(p.a.Icon,{icon:"card-account-details",color:null!=ve&&null!=(e=ve.dropzone)&&null!=(n=e.dropzoneUser)&&n.expiresAt&&1e3*(null==ve||null==(r=ve.dropzone)||null==(t=r.dropzoneUser)?void 0:t.expiresAt)>(new Date).getTime()?void 0:"#B00020"})}})),c.createElement(m.a.Actions,{style:{justifyContent:"flex-end"}},c.createElement(f.a,{icon:"pencil",onPress:function(){var e;ee(j.a.setOriginal(null==ve||null==(e=ve.dropzone)?void 0:e.dropzoneUser)),me(!0)}},"Edit"))),c.createElement(m.a,{elevation:3,style:ae.card},c.createElement(m.a.Title,{title:"Rigs"}),c.createElement(m.a.Content,null,c.createElement(g.a,null,c.createElement(g.a.Header,null,c.createElement(g.a.Title,null,"Container"),c.createElement(g.a.Title,{numeric:!0},"Repack due"),c.createElement(g.a.Title,{numeric:!0},"Canopy size")),null==ve||null==(B=ve.dropzone)||null==(V=B.dropzoneUser)||null==(H=V.user)||null==(W=H.rigs)?void 0:W.map((function(e){return c.createElement(g.a.Row,{onPress:ye(e),pointerEvents:"none"},c.createElement(g.a.Cell,null,[null==e?void 0:e.make,null==e?void 0:e.model,"#"+(null==e?void 0:e.serial)].join(" ")),c.createElement(g.a.Cell,{numeric:!0},null!=e&&e.repackExpiresAt?Object(b.a)(1e3*e.repackExpiresAt,"yyyy/MM/dd"):"-"),c.createElement(g.a.Cell,{numeric:!0},""+(null==e?void 0:e.canopySize)))})))),fe&&c.createElement(m.a.Actions,{style:{justifyContent:"flex-end"}},c.createElement(f.a,{onPress:function(){return ce(!0)}},"Add rig"))),(null==ve||null==(Q=ve.dropzone)||null==(_=Q.dropzoneUser)?void 0:_.id)===(null==(G=Z.currentUser)?void 0:G.id)&&c.createElement(f.a,{color:"#B00020",onPress:function(){return ee(j.b.logout())}},"Log out")),c.createElement(N,{onClose:function(){return ce(!1)},onSuccess:function(){return ce(!1)},userId:Number(null==ve||null==(K=ve.dropzone)||null==(X=K.dropzoneUser)||null==(Y=X.user)?void 0:Y.id),open:oe}),c.createElement(ne,{onClose:function(){return me(!1)},onSuccess:function(){return me(!1)},open:de}))}var ae=u.a.create({container:{flex:1},content:{alignItems:"center",flexGrow:1,paddingBottom:56},card:{margin:8,width:"100%"},fields:{width:"80%",display:"flex"},spacer:{width:"100%",height:32},title:{fontSize:20,fontWeight:"bold"},fab:{position:"absolute",margin:16,right:0,bottom:0},separator:{marginVertical:30,height:1,width:"80%"}})}}]);
//# sourceMappingURL=8.fb36e59b.chunk.js.map